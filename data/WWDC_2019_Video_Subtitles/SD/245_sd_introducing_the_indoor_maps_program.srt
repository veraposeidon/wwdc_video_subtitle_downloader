1
00:00:00,506 --> 00:00:05,955
[ Music ]


2
00:00:06,456 --> 00:00:08,176
>> Hello, I'm Yuval Kossovsky


3
00:00:08,176 --> 00:00:09,396
and I'd like to welcome you to


4
00:00:09,396 --> 00:00:10,636
the Indoor Maps Program.


5
00:00:11,296 --> 00:00:12,466
Perhaps, you are the owner of a


6
00:00:12,466 --> 00:00:14,476
large hospital, office tower,


7
00:00:14,526 --> 00:00:16,326
stadium or museum and are


8
00:00:16,326 --> 00:00:17,926
looking to add indoor maps and


9
00:00:17,926 --> 00:00:19,916
positioning to your own consumer


10
00:00:19,916 --> 00:00:21,396
or enterprise apps.


11
00:00:21,906 --> 00:00:23,946
Or perhaps you are the owner of


12
00:00:23,946 --> 00:00:25,976
an airport, shopping mall or


13
00:00:25,976 --> 00:00:27,446
other facility with large


14
00:00:27,446 --> 00:00:29,346
numbers of public visitors and


15
00:00:29,346 --> 00:00:30,546
you'd like your indoor map and


16
00:00:30,546 --> 00:00:32,125
locations to be part of the


17
00:00:32,125 --> 00:00:34,016
Apple Maps' indoor experience.


18
00:00:34,476 --> 00:00:35,906
This session will have something


19
00:00:35,966 --> 00:00:37,616
of interest to each of you.


20
00:00:38,076 --> 00:00:39,766
Outdoor location services have


21
00:00:39,766 --> 00:00:41,516
become embedded into our cities,


22
00:00:41,666 --> 00:00:43,606
our travel, our daily commutes,


23
00:00:43,766 --> 00:00:44,856
and even our social


24
00:00:44,856 --> 00:00:45,776
interactivity.


25
00:00:46,066 --> 00:00:47,246
And people are beginning to


26
00:00:47,246 --> 00:00:48,936
expect a location experience


27
00:00:49,006 --> 00:00:50,736
everywhere, including the


28
00:00:50,736 --> 00:00:51,526
indoors.


29
00:00:52,066 --> 00:00:53,816
In addition to a digital version


30
00:00:53,816 --> 00:00:55,626
of the well-known You-Are-Here


31
00:00:55,626 --> 00:00:57,526
map, there are many compelling


32
00:00:57,526 --> 00:00:59,546
consumer, operations and


33
00:00:59,546 --> 00:01:01,446
enterprise use cases that have


34
00:01:01,446 --> 00:01:03,016
indoor maps and indoor


35
00:01:03,016 --> 00:01:04,536
positioning at their core.


36
00:01:05,116 --> 00:01:07,036
Air travel, for example, can be


37
00:01:07,036 --> 00:01:08,686
incredibly stressful when you


38
00:01:08,686 --> 00:01:10,376
don't know where to park, where


39
00:01:10,376 --> 00:01:12,166
the security line is, where the


40
00:01:12,166 --> 00:01:13,886
gates are, or how long it will


41
00:01:13,886 --> 00:01:15,476
take to get from where you are


42
00:01:15,676 --> 00:01:16,896
to where you want to go.


43
00:01:17,546 --> 00:01:19,246
A map updated in real time that


44
00:01:19,246 --> 00:01:20,756
shows you where your gate is,


45
00:01:20,826 --> 00:01:22,636
where you are and how much free


46
00:01:22,636 --> 00:01:24,336
time you have for shopping or a


47
00:01:24,336 --> 00:01:26,216
quick bite before your flight


48
00:01:26,216 --> 00:01:27,486
would make for a much more


49
00:01:27,486 --> 00:01:28,316
pleasant journey.


50
00:01:29,186 --> 00:01:30,806
Looking at the operation side of


51
00:01:30,806 --> 00:01:32,446
the building, a staff member


52
00:01:32,446 --> 00:01:33,786
might need to locate a piece of


53
00:01:33,786 --> 00:01:35,136
equipment for routine


54
00:01:35,136 --> 00:01:36,736
maintenance or to service an


55
00:01:36,736 --> 00:01:37,256
outage.


56
00:01:37,706 --> 00:01:39,216
Using indoor maps and indoor


57
00:01:39,216 --> 00:01:40,816
positioning, the equipment


58
00:01:40,816 --> 00:01:42,556
report can be tagged with an


59
00:01:42,556 --> 00:01:44,706
accurate latitude, longitude and


60
00:01:44,706 --> 00:01:45,386
floor level.


61
00:01:45,776 --> 00:01:47,686
Then the nearest technician with


62
00:01:47,686 --> 00:01:49,286
the right skills to resolve the


63
00:01:49,286 --> 00:01:51,306
issue can be guided directly to


64
00:01:51,306 --> 00:01:52,976
the location to begin work,


65
00:01:53,166 --> 00:01:55,276
providing an incredible boost in


66
00:01:55,276 --> 00:01:56,696
operations efficiency.


67
00:01:56,956 --> 00:01:58,636
Finally, consider that first


68
00:01:58,636 --> 00:02:00,326
responders have only moments to


69
00:02:00,326 --> 00:02:01,896
study a building layout before


70
00:02:01,896 --> 00:02:03,586
deciding on a plan of action.


71
00:02:04,126 --> 00:02:05,736
Typically, the only available


72
00:02:05,736 --> 00:02:07,416
indoor maps are on paper and are


73
00:02:07,416 --> 00:02:08,156
not current.


74
00:02:08,675 --> 00:02:10,346
Using electronically maintained


75
00:02:10,346 --> 00:02:12,646
indoor maps to show the location


76
00:02:12,646 --> 00:02:14,516
of the incidents, as well as the


77
00:02:14,516 --> 00:02:16,156
location of the responders


78
00:02:16,156 --> 00:02:17,766
inside the buildings, can


79
00:02:17,766 --> 00:02:19,666
greatly reduce response times,


80
00:02:19,816 --> 00:02:21,396
and in some cases, even save


81
00:02:21,396 --> 00:02:22,066
lives.


82
00:02:22,406 --> 00:02:24,206
These three scenarios are just a


83
00:02:24,206 --> 00:02:26,196
few examples of what can be done


84
00:02:26,196 --> 00:02:27,726
with indoor maps and indoor


85
00:02:27,726 --> 00:02:29,356
positioning through the Apple


86
00:02:29,356 --> 00:02:30,656
Indoor Maps Program.


87
00:02:31,346 --> 00:02:33,276
The Indoor Maps Program enables


88
00:02:33,276 --> 00:02:35,296
organizations with large public


89
00:02:35,296 --> 00:02:37,336
and private spaces to create


90
00:02:37,336 --> 00:02:39,316
standard space indoor maps,


91
00:02:39,536 --> 00:02:41,346
enable indoor positioning and


92
00:02:41,346 --> 00:02:43,456
create stunning indoor maps in


93
00:02:43,456 --> 00:02:45,206
their own apps and websites.


94
00:02:45,596 --> 00:02:47,196
This session will discuss the


95
00:02:47,196 --> 00:02:48,816
overall workflow for


96
00:02:48,816 --> 00:02:50,606
accomplishing these tasks and


97
00:02:50,636 --> 00:02:52,206
provide some guidance in the


98
00:02:52,206 --> 00:02:54,276
form of best practices for


99
00:02:54,276 --> 00:02:55,936
success at each step.


100
00:02:56,796 --> 00:02:58,696
At the core of the program is


101
00:02:58,696 --> 00:03:00,536
the Indoor Mapping Data Format,


102
00:03:00,626 --> 00:03:02,346
or IMDF.


103
00:03:03,266 --> 00:03:05,396
This is Apple specification for


104
00:03:05,396 --> 00:03:07,596
modeling indoor spaces and is


105
00:03:07,596 --> 00:03:10,166
represented as a set of GeoJSON


106
00:03:10,166 --> 00:03:10,746
files.


107
00:03:11,376 --> 00:03:13,006
Many of your favorite mapping in


108
00:03:13,006 --> 00:03:15,206
GIS platforms are already


109
00:03:15,206 --> 00:03:16,776
supporting the creation and


110
00:03:16,776 --> 00:03:18,846
editing of IMDF as it has


111
00:03:18,846 --> 00:03:20,496
quickly become the de facto


112
00:03:20,496 --> 00:03:22,276
exchange standard for indoor


113
00:03:22,276 --> 00:03:22,596
data.


114
00:03:23,496 --> 00:03:24,886
Let's take a deeper look at the


115
00:03:24,886 --> 00:03:26,366
Indoor Maps Program.


116
00:03:27,046 --> 00:03:28,436
Building and property owners


117
00:03:28,436 --> 00:03:30,286
start by converting their CAD,


118
00:03:30,376 --> 00:03:33,916
BIM or GIS files to IMDF using


119
00:03:33,916 --> 00:03:35,356
industry standard tools.


120
00:03:35,746 --> 00:03:37,776
Then they can use that IMDF map


121
00:03:37,936 --> 00:03:39,486
and developer tools from Apple


122
00:03:39,656 --> 00:03:41,456
to display indoor maps in their


123
00:03:41,456 --> 00:03:43,226
own consumer and enterprise


124
00:03:43,226 --> 00:03:43,766
apps.


125
00:03:44,246 --> 00:03:46,576
In this simple case, displaying


126
00:03:46,576 --> 00:03:48,276
the IMDF in an app is something


127
00:03:48,276 --> 00:03:50,106
that any developer can do easily


128
00:03:50,106 --> 00:03:52,426
by themselves using MapKit and


129
00:03:52,426 --> 00:03:53,816
MapKit JS tools.


130
00:03:54,186 --> 00:03:55,126
Because building and


131
00:03:55,126 --> 00:03:57,316
understanding IMDF can be a bit


132
00:03:57,316 --> 00:03:58,946
more complicated, there is the


133
00:03:58,946 --> 00:04:01,246
IMDF Sandbox, a tool for


134
00:04:01,246 --> 00:04:03,046
visualization, archive


135
00:04:03,046 --> 00:04:04,856
inspection, editing and


136
00:04:04,856 --> 00:04:06,956
experimentation with an IMDF


137
00:04:06,956 --> 00:04:07,376
archive.


138
00:04:08,356 --> 00:04:10,176
Companies that own large public


139
00:04:10,176 --> 00:04:11,876
and private spaces, such as


140
00:04:11,876 --> 00:04:13,676
airports, shopping centers,


141
00:04:13,676 --> 00:04:16,446
arenas, hospitals, universities


142
00:04:16,446 --> 00:04:17,846
and private office buildings,


143
00:04:18,016 --> 00:04:19,596
are welcome to register their


144
00:04:19,596 --> 00:04:21,326
organization for the Indoor Maps


145
00:04:21,326 --> 00:04:24,166
Program, create IMDF maps using


146
00:04:24,166 --> 00:04:25,616
industry standard tools,


147
00:04:25,916 --> 00:04:28,106
validate those IMDF maps in the


148
00:04:28,106 --> 00:04:30,896
Sandbox, enable Apple indoor


149
00:04:30,896 --> 00:04:33,026
positioning and then use MapKit


150
00:04:33,026 --> 00:04:35,466
and MapKit JS to display indoor


151
00:04:35,466 --> 00:04:37,276
maps and indoor positioning in


152
00:04:37,276 --> 00:04:38,596
their apps and websites.


153
00:04:39,176 --> 00:04:40,736
Highly trafficked locations,


154
00:04:40,736 --> 00:04:42,176
such as airports and shopping


155
00:04:42,176 --> 00:04:43,796
centers, may also want the


156
00:04:43,796 --> 00:04:45,166
public indoor maps of their


157
00:04:45,166 --> 00:04:46,896
buildings to be included in


158
00:04:46,896 --> 00:04:47,806
Apple Maps.


159
00:04:48,506 --> 00:04:50,106
Any participant in the Indoor


160
00:04:50,106 --> 00:04:52,416
Maps Program can activate indoor


161
00:04:52,416 --> 00:04:54,016
positioning for their building


162
00:04:54,146 --> 00:04:56,226
and use the IMDF maps in their


163
00:04:56,226 --> 00:04:57,416
apps and websites.


164
00:04:57,876 --> 00:04:59,396
Let's go into more detail about


165
00:04:59,396 --> 00:05:00,606
the process for joining the


166
00:05:00,606 --> 00:05:02,746
Indoor Maps Program, managing


167
00:05:02,746 --> 00:05:04,396
your organization's account and


168
00:05:04,396 --> 00:05:05,336
claiming your building


169
00:05:05,336 --> 00:05:06,186
locations.


170
00:05:08,166 --> 00:05:09,526
Navigate your browser to


171
00:05:09,526 --> 00:05:12,326
register.apple.com/indoor to


172
00:05:12,326 --> 00:05:14,106
learn more about the program and


173
00:05:14,106 --> 00:05:16,336
get links to tools, information


174
00:05:16,336 --> 00:05:17,376
and documentation.


175
00:05:17,796 --> 00:05:19,546
Click on Get Started to begin


176
00:05:19,546 --> 00:05:21,136
enrolling your organization.


177
00:05:21,736 --> 00:05:23,496
When an organization enrolls for


178
00:05:23,496 --> 00:05:25,246
the Indoor Maps Program at Apple


179
00:05:25,246 --> 00:05:27,206
Business Register, an in-depth


180
00:05:27,206 --> 00:05:28,606
check is done on their business


181
00:05:28,606 --> 00:05:29,386
information.


182
00:05:29,836 --> 00:05:31,396
The individuals performing the


183
00:05:31,396 --> 00:05:33,136
sign up must have emails


184
00:05:33,136 --> 00:05:34,786
connected to the organizational


185
00:05:34,786 --> 00:05:36,786
domain, and all of the primary


186
00:05:36,786 --> 00:05:39,076
contacts must be employees or


187
00:05:39,076 --> 00:05:40,486
registered agents of the


188
00:05:40,486 --> 00:05:41,036
company.


189
00:05:41,706 --> 00:05:43,166
Once the organization is


190
00:05:43,166 --> 00:05:44,946
validated and approved, the


191
00:05:44,946 --> 00:05:46,686
administrator is able to manage


192
00:05:46,686 --> 00:05:48,056
their team members through the


193
00:05:48,056 --> 00:05:49,376
controls on the right.


194
00:05:49,896 --> 00:05:51,216
Tapping or clicking on team


195
00:05:51,216 --> 00:05:52,826
members reveals the list of


196
00:05:52,826 --> 00:05:54,806
members, and tapping on the plus


197
00:05:54,806 --> 00:05:57,126
sign reveals a dialog for both


198
00:05:57,126 --> 00:05:58,406
individuals and entire


199
00:05:58,406 --> 00:06:00,696
organizations to participate in


200
00:06:00,696 --> 00:06:02,006
this organization.


201
00:06:02,516 --> 00:06:05,576
The invitees can be assigned any


202
00:06:05,576 --> 00:06:07,786
number of five different roles


203
00:06:08,076 --> 00:06:10,026
and given access to the entire


204
00:06:10,026 --> 00:06:12,546
catalog of venues or selected


205
00:06:12,646 --> 00:06:14,186
individual locations.


206
00:06:14,996 --> 00:06:17,436
This granular control enables an


207
00:06:17,436 --> 00:06:19,736
organization to easily outsource


208
00:06:19,776 --> 00:06:22,636
IMDF mapmaking and survey to


209
00:06:22,636 --> 00:06:24,306
partners on a venue-by-venue


210
00:06:24,306 --> 00:06:26,076
basis or across the


211
00:06:26,076 --> 00:06:26,916
organization.


212
00:06:27,586 --> 00:06:29,366
System integrators wishing to


213
00:06:29,366 --> 00:06:31,816
make IMDF to survey for indoor


214
00:06:31,816 --> 00:06:34,166
positioning or build indoor apps


215
00:06:34,166 --> 00:06:35,996
for their clients should get


216
00:06:35,996 --> 00:06:37,766
invited to an organization,


217
00:06:37,996 --> 00:06:39,516
rather than try to claim a


218
00:06:39,516 --> 00:06:40,896
client's buildings on their


219
00:06:40,896 --> 00:06:42,006
behalf.


220
00:06:42,006 --> 00:06:43,516
And that is team management.


221
00:06:44,516 --> 00:06:46,196
Claiming locations for an


222
00:06:46,196 --> 00:06:47,626
organization is easy.


223
00:06:48,116 --> 00:06:49,566
Keep in mind that the claims can


224
00:06:49,566 --> 00:06:50,926
only be made for your own


225
00:06:50,926 --> 00:06:52,896
properties, not on behalf of


226
00:06:52,896 --> 00:06:53,396
others.


227
00:06:53,856 --> 00:06:55,436
Click on Indoor Maps under


228
00:06:55,436 --> 00:06:57,636
Connected Services, tap the plus


229
00:06:57,636 --> 00:06:59,446
button and select your location.


230
00:06:59,806 --> 00:07:01,456
Depending on the categorization


231
00:07:01,456 --> 00:07:02,766
of the building, you'll be


232
00:07:02,766 --> 00:07:04,376
presented with different options


233
00:07:04,376 --> 00:07:05,376
for how to proceed.


234
00:07:06,036 --> 00:07:07,236
Buildings that are private


235
00:07:07,236 --> 00:07:09,116
locations are not eligible to


236
00:07:09,116 --> 00:07:10,666
have their indoor maps display


237
00:07:10,666 --> 00:07:11,586
in Apple Maps.


238
00:07:11,996 --> 00:07:13,986
Properties such as airports will


239
00:07:13,986 --> 00:07:15,336
be asked for permission to


240
00:07:15,336 --> 00:07:17,166
display their indoor maps in


241
00:07:17,166 --> 00:07:18,066
Apple Maps.


242
00:07:18,756 --> 00:07:20,136
Once the location claim is


243
00:07:20,136 --> 00:07:22,606
approved, you can upload an IMDF


244
00:07:22,766 --> 00:07:24,176
and the validator will begin


245
00:07:24,176 --> 00:07:25,356
analyzing the file


246
00:07:25,356 --> 00:07:26,136
automatically.


247
00:07:26,686 --> 00:07:28,086
After a few minutes, you'll


248
00:07:28,086 --> 00:07:29,696
receive an email indicating that


249
00:07:29,696 --> 00:07:31,266
validation is complete.


250
00:07:31,706 --> 00:07:32,756
There will be a link to the


251
00:07:32,756 --> 00:07:34,486
validation report, where you can


252
00:07:34,486 --> 00:07:35,956
see any errors that blocked


253
00:07:35,956 --> 00:07:37,936
acceptance of the file or any


254
00:07:37,936 --> 00:07:39,246
warnings which indicate


255
00:07:39,246 --> 00:07:40,696
conditions that need further


256
00:07:40,696 --> 00:07:41,506
examination.


257
00:07:42,176 --> 00:07:43,846
You can use the embedded link to


258
00:07:43,846 --> 00:07:46,016
the IMDF Sandbox to view the


259
00:07:46,096 --> 00:07:48,466
IMDF file, make quick edits if


260
00:07:48,466 --> 00:07:48,906
needed.


261
00:07:49,386 --> 00:07:51,516
Once an IMDF is error free in


262
00:07:51,516 --> 00:07:53,266
the validator, it will move to


263
00:07:53,266 --> 00:07:55,286
georeferencing and evaluation.


264
00:07:55,646 --> 00:07:57,016
To ensure accurate indoor


265
00:07:57,016 --> 00:07:59,316
positioning, the IMDF must have


266
00:07:59,316 --> 00:08:01,646
walkable areas for survey and be


267
00:08:01,646 --> 00:08:03,056
aligned with the Apple satellite


268
00:08:03,056 --> 00:08:03,626
imagery.


269
00:08:04,396 --> 00:08:06,056
The indoor team will manually


270
00:08:06,056 --> 00:08:07,766
check the georeferencing of your


271
00:08:07,766 --> 00:08:10,076
IMDF and do a cursory check for


272
00:08:10,076 --> 00:08:12,476
defects in the IMDF that cannot


273
00:08:12,476 --> 00:08:14,116
be surfaced in the validator.


274
00:08:14,666 --> 00:08:16,236
If any changes are made to the


275
00:08:16,236 --> 00:08:18,466
file, they will be saved into a


276
00:08:18,546 --> 00:08:20,116
new IMDF, which will be made


277
00:08:20,116 --> 00:08:21,806
available under Download


278
00:08:21,806 --> 00:08:24,276
Georeference to IMDF, along with


279
00:08:24,276 --> 00:08:26,136
a report indicating what work


280
00:08:26,136 --> 00:08:26,656
was done.


281
00:08:27,076 --> 00:08:28,726
Let's review the best practices


282
00:08:28,726 --> 00:08:30,426
for joining and participating in


283
00:08:30,426 --> 00:08:32,096
the Apple Indoor Maps Program.


284
00:08:32,895 --> 00:08:35,106
While anyone can make an IMDF


285
00:08:35,106 --> 00:08:36,826
map and display it in their app


286
00:08:36,826 --> 00:08:38,576
and website using MapKit and


287
00:08:38,576 --> 00:08:40,696
MapKit JS, the Indoor Maps


288
00:08:40,696 --> 00:08:42,385
Program and enabling Apple


289
00:08:42,385 --> 00:08:44,356
indoor positioning is for owners


290
00:08:44,356 --> 00:08:45,526
of large properties.


291
00:08:45,986 --> 00:08:47,496
Some measures of large include


292
00:08:47,496 --> 00:08:49,606
50 square meters, 5 million


293
00:08:49,606 --> 00:08:51,686
annual visitors, or entire


294
00:08:51,686 --> 00:08:52,666
office buildings.


295
00:08:52,856 --> 00:08:54,536
The individuals enrolling must


296
00:08:54,536 --> 00:08:56,116
be part of the organization and


297
00:08:56,116 --> 00:08:57,826
must provide enough information


298
00:08:57,826 --> 00:08:59,606
to verify the organization


299
00:08:59,606 --> 00:09:00,266
details.


300
00:09:00,656 --> 00:09:02,436
If there's an existing account,


301
00:09:02,656 --> 00:09:04,236
the current account admins will


302
00:09:04,236 --> 00:09:06,456
be notified of the new enrollees


303
00:09:06,656 --> 00:09:07,676
and asked to invite them


304
00:09:07,676 --> 00:09:08,296
directly.


305
00:09:08,686 --> 00:09:10,346
This ensures the organization


306
00:09:10,346 --> 00:09:11,746
maintains control of all


307
00:09:11,746 --> 00:09:12,426
members.


308
00:09:13,276 --> 00:09:15,066
Some locations are eligible for


309
00:09:15,066 --> 00:09:16,416
display in Apple Maps.


310
00:09:16,556 --> 00:09:18,566
However, the indoor map will


311
00:09:18,566 --> 00:09:20,556
remain private unless permission


312
00:09:20,556 --> 00:09:21,146
is given.


313
00:09:22,146 --> 00:09:24,006
IMDF is the basis for the map


314
00:09:24,006 --> 00:09:25,976
used to display in your app and


315
00:09:25,976 --> 00:09:28,126
website and to enable indoor


316
00:09:28,126 --> 00:09:28,896
positioning.


317
00:09:29,596 --> 00:09:31,916
To create an IMDF, work with


318
00:09:31,916 --> 00:09:33,286
your facilities team to


319
00:09:33,286 --> 00:09:34,716
investigate the offerings


320
00:09:34,716 --> 00:09:36,466
available from companies, like


321
00:09:36,466 --> 00:09:39,096
Safe Software, Autodesk, Esri,


322
00:09:39,336 --> 00:09:41,256
and other GIS and BIM tool


323
00:09:41,256 --> 00:09:42,086
platforms.


324
00:09:42,866 --> 00:09:44,216
Let's take a deeper look at


325
00:09:44,216 --> 00:09:44,886
IMDF.


326
00:09:45,876 --> 00:09:48,116
To understand how IMDF is


327
00:09:48,116 --> 00:09:49,756
constructed, we should first


328
00:09:49,756 --> 00:09:51,186
look at the general components


329
00:09:51,186 --> 00:09:52,326
of a building floor plan.


330
00:09:53,086 --> 00:09:54,866
An indoor map like a regular map


331
00:09:54,866 --> 00:09:56,456
is comprised of many layers.


332
00:09:56,916 --> 00:09:58,346
Each of these layers may contain


333
00:09:58,346 --> 00:09:58,976
several features.


334
00:09:59,696 --> 00:10:01,006
Let's break down this building


335
00:10:01,006 --> 00:10:01,936
map, for example.


336
00:10:02,416 --> 00:10:03,986
Simplistically, the base of an


337
00:10:03,986 --> 00:10:05,376
indoor map is the building


338
00:10:05,376 --> 00:10:07,466
ground footprint, or the size


339
00:10:07,466 --> 00:10:08,486
and shape of the physical


340
00:10:08,486 --> 00:10:09,356
building plus the


341
00:10:09,356 --> 00:10:11,266
GeoCoordinates, where it sits on


342
00:10:11,266 --> 00:10:11,776
the earth.


343
00:10:12,266 --> 00:10:13,926
Indoor locations are still on


344
00:10:13,926 --> 00:10:14,716
the earth.


345
00:10:14,716 --> 00:10:15,866
And to handle the movement of


346
00:10:15,866 --> 00:10:16,906
people in and out of the


347
00:10:16,906 --> 00:10:18,696
building, an indoor data model


348
00:10:18,696 --> 00:10:20,176
has to account for this fact.


349
00:10:20,606 --> 00:10:22,186
Georeferencing of the building


350
00:10:22,186 --> 00:10:23,006
is the solution.


351
00:10:23,236 --> 00:10:25,086
The next step is to add a level.


352
00:10:25,876 --> 00:10:27,806
Again, simplistically, we can


353
00:10:27,806 --> 00:10:29,886
use the ground floor or ordinal


354
00:10:29,886 --> 00:10:31,226
zero for our example.


355
00:10:32,106 --> 00:10:34,036
The level is entirely covered by


356
00:10:34,226 --> 00:10:36,126
some form of what we call a


357
00:10:36,126 --> 00:10:38,526
unit, for example, a room, a


358
00:10:38,616 --> 00:10:40,726
walkway, an elevator or an


359
00:10:40,726 --> 00:10:41,396
escalator.


360
00:10:41,826 --> 00:10:43,416
Anything that occupies space on


361
00:10:43,416 --> 00:10:44,856
the level is defined with


362
00:10:44,856 --> 00:10:46,996
geometry and a category of some


363
00:10:46,996 --> 00:10:47,466
kind.


364
00:10:47,966 --> 00:10:49,716
Rooms typically have doors or


365
00:10:49,716 --> 00:10:51,346
what we call openings.


366
00:10:51,716 --> 00:10:53,336
And then within the units, there


367
00:10:53,336 --> 00:10:55,216
are also other objects, such as


368
00:10:55,216 --> 00:10:56,006
kiosks.


369
00:10:56,286 --> 00:10:57,846
They're typically in the walkway


370
00:10:57,846 --> 00:10:59,496
unit of a shopping center or


371
00:10:59,496 --> 00:10:59,906
mall.


372
00:11:00,586 --> 00:11:02,066
Next, there are labels which are


373
00:11:02,066 --> 00:11:03,676
applied to the units, such as


374
00:11:03,676 --> 00:11:04,986
the name of a business that


375
00:11:04,986 --> 00:11:06,056
occupies a room.


376
00:11:06,746 --> 00:11:07,946
Icons are used to mark the


377
00:11:07,946 --> 00:11:09,856
location of amenities of


378
00:11:09,856 --> 00:11:13,276
interest, such as an elevator or


379
00:11:13,276 --> 00:11:13,836
a restroom.


380
00:11:13,946 --> 00:11:15,796
At the Jurassic Table


381
00:11:15,796 --> 00:11:17,296
restaurant, there is also a


382
00:11:17,296 --> 00:11:19,836
delimited area that acts as a


383
00:11:19,836 --> 00:11:21,876
virtual boundary, which extends


384
00:11:21,876 --> 00:11:23,186
outside of the walls of the


385
00:11:23,186 --> 00:11:24,156
actual unit.


386
00:11:24,586 --> 00:11:26,216
This could be post security in


387
00:11:26,216 --> 00:11:28,286
an airport or the food court in


388
00:11:28,286 --> 00:11:28,716
a mall.


389
00:11:29,366 --> 00:11:30,376
And these are some of the


390
00:11:30,376 --> 00:11:32,016
constructs that make a good


391
00:11:32,016 --> 00:11:35,306
indoor map format, such as IMDF.


392
00:11:35,456 --> 00:11:37,496
Underlying the format are rules


393
00:11:37,496 --> 00:11:39,096
on how to consistently capture


394
00:11:39,096 --> 00:11:40,976
information about the physical


395
00:11:40,976 --> 00:11:43,156
spaces and the business purpose


396
00:11:43,206 --> 00:11:45,366
of those spaces into an easy to


397
00:11:45,366 --> 00:11:46,556
understand hierarchy.


398
00:11:47,076 --> 00:11:48,266
Let's take a look at some of the


399
00:11:48,266 --> 00:11:50,056
required features and some


400
00:11:50,056 --> 00:11:52,086
optional elements that make up


401
00:11:52,086 --> 00:11:53,236
an IMDF archive.


402
00:11:53,826 --> 00:11:56,086
There are three core files that


403
00:11:56,086 --> 00:11:57,616
provide the base information of


404
00:11:57,616 --> 00:11:59,806
the venue, the manifest, which


405
00:11:59,806 --> 00:12:01,556
has some administrative detail,


406
00:12:01,976 --> 00:12:03,466
the address, which provides the


407
00:12:03,466 --> 00:12:05,476
postal address, and the venue


408
00:12:05,476 --> 00:12:07,086
layer that describes the overall


409
00:12:07,086 --> 00:12:08,246
shape of the location.


410
00:12:08,896 --> 00:12:10,536
The property is then extended by


411
00:12:10,536 --> 00:12:12,756
the building layer, and its


412
00:12:12,756 --> 00:12:14,346
associated footprint layers


413
00:12:14,696 --> 00:12:15,926
which bring details to the


414
00:12:15,926 --> 00:12:16,816
physical building.


415
00:12:17,376 --> 00:12:19,336
Working our way deeper in, the


416
00:12:19,336 --> 00:12:20,876
levels within the building are


417
00:12:20,876 --> 00:12:21,496
defined.


418
00:12:22,396 --> 00:12:23,926
The level is then entirely


419
00:12:23,926 --> 00:12:25,846
covered in units, which are


420
00:12:25,846 --> 00:12:27,666
associated with openings, such


421
00:12:27,666 --> 00:12:28,606
as doorways.


422
00:12:29,296 --> 00:12:31,326
The level also has logical area


423
00:12:31,326 --> 00:12:33,666
groupings, like sections and


424
00:12:33,666 --> 00:12:35,876
trigger regions like geofences.


425
00:12:36,436 --> 00:12:39,706
Then kiosks and fixtures are


426
00:12:39,706 --> 00:12:40,246
placed.


427
00:12:41,556 --> 00:12:43,846
Amenities and their associated


428
00:12:43,846 --> 00:12:45,486
data are assigned to the units,


429
00:12:45,736 --> 00:12:47,416
and finally, anchors are used


430
00:12:47,416 --> 00:12:49,446
for positioning references and


431
00:12:49,446 --> 00:12:51,096
unit addresses with additional


432
00:12:51,096 --> 00:12:52,636
data blocks, such as the


433
00:12:52,636 --> 00:12:54,876
occupant, providing the occupant


434
00:12:54,876 --> 00:12:56,446
name and phone number and


435
00:12:56,446 --> 00:12:57,296
related data.


436
00:12:57,986 --> 00:12:59,516
And that is how the hierarchy is


437
00:12:59,516 --> 00:13:00,066
set up.


438
00:13:00,626 --> 00:13:02,126
You can learn more by reading


439
00:13:02,126 --> 00:13:03,266
the Indoor Mapping Data


440
00:13:03,266 --> 00:13:04,966
Specification in detail.


441
00:13:05,116 --> 00:13:07,206
But what is IMDF to the


442
00:13:07,206 --> 00:13:08,176
developer's eye?


443
00:13:09,046 --> 00:13:11,126
An IMDF is an archive made up of


444
00:13:11,126 --> 00:13:13,146
multiple GeoJSON files and the


445
00:13:13,146 --> 00:13:15,076
multiple files we discussed.


446
00:13:16,096 --> 00:13:17,646
This is a GeoJSON file.


447
00:13:17,946 --> 00:13:19,786
And as you can see here, there's


448
00:13:19,786 --> 00:13:22,386
a unique UUID provided to the


449
00:13:22,386 --> 00:13:24,726
specific feature type of level.


450
00:13:25,256 --> 00:13:27,106
The public can access this


451
00:13:27,106 --> 00:13:28,396
building so the restriction


452
00:13:28,396 --> 00:13:31,246
property is set to null and it


453
00:13:31,246 --> 00:13:32,066
is indoors.


454
00:13:32,506 --> 00:13:33,946
This is level one in the


455
00:13:33,946 --> 00:13:34,486
building.


456
00:13:34,656 --> 00:13:36,066
And what you see printed on the


457
00:13:36,066 --> 00:13:37,236
elevator button is L1.


458
00:13:37,236 --> 00:13:40,296
Importantly, we see that this


459
00:13:40,296 --> 00:13:42,196
level is associated to a single


460
00:13:42,196 --> 00:13:44,446
building ID and it has a good


461
00:13:44,446 --> 00:13:46,596
geometrical shape as described


462
00:13:46,596 --> 00:13:46,906
here.


463
00:13:47,696 --> 00:13:49,736
All in all, a comprehensive set


464
00:13:49,736 --> 00:13:52,006
of information in a simple text


465
00:13:52,006 --> 00:13:52,456
file.


466
00:13:53,356 --> 00:13:54,626
Let's review some of the


467
00:13:54,626 --> 00:13:55,976
important elements in


468
00:13:55,976 --> 00:13:57,796
understanding and crafting an


469
00:13:57,796 --> 00:13:59,466
Indoor Mapping Data Format


470
00:13:59,466 --> 00:13:59,946
archive.


471
00:14:00,866 --> 00:14:02,516
It is important to understand


472
00:14:02,516 --> 00:14:04,396
how the layers relate and where


473
00:14:04,396 --> 00:14:05,966
the data for each element is


474
00:14:05,966 --> 00:14:06,706
surfaced.


475
00:14:06,996 --> 00:14:08,826
It is important to ensure that


476
00:14:08,876 --> 00:14:10,966
the IMDF is complete, even from


477
00:14:10,966 --> 00:14:12,926
proof of concept deliveries and


478
00:14:12,926 --> 00:14:14,656
that the units cover the entire


479
00:14:14,656 --> 00:14:15,226
building.


480
00:14:15,916 --> 00:14:17,226
Everything on the level is a


481
00:14:17,226 --> 00:14:19,506
unit, including walkways which


482
00:14:19,506 --> 00:14:20,956
have their own category.


483
00:14:21,106 --> 00:14:23,166
Speaking of categories, they are


484
00:14:23,166 --> 00:14:25,296
critical to a good map and good


485
00:14:25,296 --> 00:14:26,386
rendering behavior.


486
00:14:27,676 --> 00:14:29,226
Openings are important for both


487
00:14:29,226 --> 00:14:31,316
location accuracy and proper


488
00:14:31,316 --> 00:14:33,086
routing and should be included


489
00:14:33,086 --> 00:14:34,496
to make it easier for those with


490
00:14:34,496 --> 00:14:36,696
mobility and site challenges.


491
00:14:37,156 --> 00:14:38,766
Occupants should have unique


492
00:14:38,766 --> 00:14:41,026
addresses and IDs for tracking


493
00:14:41,116 --> 00:14:42,476
and updates of names.


494
00:14:42,556 --> 00:14:45,396
Finally, when making the IMDF,


495
00:14:45,476 --> 00:14:46,946
consider the indoor survey.


496
00:14:47,456 --> 00:14:49,086
Large spaces are hard to get


497
00:14:49,086 --> 00:14:50,346
accurate orientation.


498
00:14:50,806 --> 00:14:52,296
Even if your map doesn't need


499
00:14:52,296 --> 00:14:54,046
the information, including


500
00:14:54,046 --> 00:14:55,936
notable landmarks or orienting


501
00:14:55,936 --> 00:14:57,586
information like columns, will


502
00:14:57,586 --> 00:14:59,146
make it much easier for getting


503
00:14:59,146 --> 00:15:00,946
proper calibration during the


504
00:15:00,946 --> 00:15:02,896
indoor positioning survey, and


505
00:15:02,896 --> 00:15:04,936
consequently better accuracy


506
00:15:04,936 --> 00:15:05,316
after.


507
00:15:05,796 --> 00:15:08,086
And that's creating the IMDF.


508
00:15:08,186 --> 00:15:10,026
Next, let's look at validation.


509
00:15:10,946 --> 00:15:12,776
As I mentioned earlier, when an


510
00:15:12,846 --> 00:15:14,556
IMDF is uploaded into the


511
00:15:14,556 --> 00:15:16,356
organization's account, it is


512
00:15:16,356 --> 00:15:18,246
electronically validated and a


513
00:15:18,246 --> 00:15:19,856
report is provided with a


514
00:15:19,856 --> 00:15:21,156
detailed analysis.


515
00:15:21,426 --> 00:15:22,716
While this may be easy for


516
00:15:22,716 --> 00:15:24,866
well-schooled GIS professionals


517
00:15:24,866 --> 00:15:26,486
to consume, we thought there


518
00:15:26,486 --> 00:15:28,126
might be an easier way to work


519
00:15:28,126 --> 00:15:29,666
with this sort of information.


520
00:15:30,136 --> 00:15:31,826
The IMDF Sandbox is a


521
00:15:31,826 --> 00:15:33,616
browser-based tool for


522
00:15:33,616 --> 00:15:36,556
visualizing IMDF, searching the


523
00:15:36,556 --> 00:15:38,676
IMDF file, observing the


524
00:15:38,676 --> 00:15:40,726
validations and making simple


525
00:15:40,766 --> 00:15:41,316
edits.


526
00:15:41,316 --> 00:15:43,626
I have a sample IMDF archive


527
00:15:43,626 --> 00:15:44,906
data set opened here.


528
00:15:45,086 --> 00:15:46,446
First of all, you can see the


529
00:15:46,446 --> 00:15:46,906
map.


530
00:15:47,106 --> 00:15:48,846
This is rendering the IMDF data


531
00:15:48,846 --> 00:15:50,406
to show you how it looks.


532
00:15:51,266 --> 00:15:52,696
There's a level picker for


533
00:15:52,696 --> 00:15:55,876
switching between levels and a


534
00:15:55,876 --> 00:15:57,296
compass to show you the


535
00:15:57,296 --> 00:15:58,066
orientation.


536
00:15:58,596 --> 00:16:02,066
On the left, you'll find a


537
00:16:02,066 --> 00:16:03,576
directory that will help you


538
00:16:03,576 --> 00:16:05,186
browse and navigate the data


539
00:16:05,406 --> 00:16:07,006
with quick access to all the


540
00:16:07,006 --> 00:16:08,556
businesses and services.


541
00:16:16,316 --> 00:16:18,016
Or browse the data by building


542
00:16:18,326 --> 00:16:18,976
or by level.


543
00:16:28,826 --> 00:16:31,726
At the top, there's a search bar


544
00:16:31,726 --> 00:16:32,666
that lets you search for


545
00:16:32,716 --> 00:16:34,636
anything and everything within


546
00:16:34,636 --> 00:16:35,436
this data set.


547
00:16:42,236 --> 00:16:43,816
At the top of the panel at the


548
00:16:43,816 --> 00:16:45,586
Home, you'll also see a link to


549
00:16:45,586 --> 00:16:47,656
all the validation errors and


550
00:16:47,656 --> 00:16:49,266
warnings triggered by this data


551
00:16:49,266 --> 00:16:49,646
set.


552
00:16:50,126 --> 00:16:51,666
The validation engine is the


553
00:16:51,666 --> 00:16:54,816
same tool in use when an IMDF is


554
00:16:54,816 --> 00:16:56,496
uploaded to the Indoor Maps


555
00:16:56,496 --> 00:16:58,286
Program, but the results are


556
00:16:58,286 --> 00:17:00,116
interpreted and visualized by


557
00:17:00,116 --> 00:17:00,996
the Sandbox.


558
00:17:01,386 --> 00:17:02,676
In this case, there are no


559
00:17:02,676 --> 00:17:04,636
errors, but just warnings.


560
00:17:05,236 --> 00:17:06,675
Warnings are present because the


561
00:17:06,675 --> 00:17:08,685
validator identifies a scenario


562
00:17:08,945 --> 00:17:10,736
that could be an error or could


563
00:17:10,736 --> 00:17:11,386
be ignored.


564
00:17:11,766 --> 00:17:13,226
Depending on your business use


565
00:17:13,226 --> 00:17:15,136
case, it is important to have


566
00:17:15,136 --> 00:17:16,756
someone with an understanding of


567
00:17:16,756 --> 00:17:19,016
the IMDF specification and the


568
00:17:19,016 --> 00:17:20,766
business use case review


569
00:17:20,766 --> 00:17:22,136
warnings generated by the


570
00:17:22,136 --> 00:17:24,266
validator to make a decision on


571
00:17:24,266 --> 00:17:25,195
their importance.


572
00:17:25,626 --> 00:17:27,596
Let's take a look at how the


573
00:17:27,656 --> 00:17:29,516
IMDF Sandbox can be used to


574
00:17:29,516 --> 00:17:31,216
discover errors and do some


575
00:17:31,216 --> 00:17:31,966
light editing.


576
00:17:32,816 --> 00:17:34,246
I've introduced a few errors


577
00:17:34,246 --> 00:17:35,756
into my sample data to show you


578
00:17:35,756 --> 00:17:36,576
how this works.


579
00:17:36,986 --> 00:17:38,616
When I first load the IMDF


580
00:17:38,616 --> 00:17:40,396
archive, the Sandbox shows me


581
00:17:40,396 --> 00:17:40,966
errors.


582
00:17:41,266 --> 00:17:42,416
The warnings are shown in the


583
00:17:42,416 --> 00:17:43,066
other tab.


584
00:17:43,616 --> 00:17:45,316
In order for my IMDF to be


585
00:17:45,316 --> 00:17:46,736
accepted into the Indoor Maps


586
00:17:46,736 --> 00:17:48,616
Program, it cannot have any


587
00:17:48,616 --> 00:17:49,076
errors.


588
00:17:49,346 --> 00:17:51,036
So, let's take a closer look and


589
00:17:51,036 --> 00:17:51,906
get these resolved.


590
00:17:52,156 --> 00:17:53,616
First, we can see that there are


591
00:17:53,616 --> 00:17:54,866
overlapping units.


592
00:17:55,286 --> 00:17:56,986
In IMDF, units should never


593
00:17:56,986 --> 00:17:57,746
overlap.


594
00:17:57,866 --> 00:17:58,996
So this is an error.


595
00:17:59,436 --> 00:18:01,266
Taking a closer look, the


596
00:18:01,266 --> 00:18:02,776
Sandbox tells us that there are


597
00:18:02,776 --> 00:18:04,476
two instances of this error in


598
00:18:04,476 --> 00:18:05,266
this data set.


599
00:18:05,566 --> 00:18:06,846
By clicking one or the other,


600
00:18:07,046 --> 00:18:08,716
the map zooms to that particular


601
00:18:08,716 --> 00:18:10,726
location and highlights which


602
00:18:10,726 --> 00:18:11,936
units overlap.


603
00:18:12,236 --> 00:18:13,986
Here, it is the blue unit and


604
00:18:14,126 --> 00:18:16,486
the yellow unit overlapping with


605
00:18:16,486 --> 00:18:18,166
the overlapping areas shown in


606
00:18:18,166 --> 00:18:18,766
orange.


607
00:18:19,286 --> 00:18:20,956
The Sandbox provides me with an


608
00:18:20,956 --> 00:18:22,826
easy option to remove the


609
00:18:22,826 --> 00:18:24,836
overlap by simply removing the


610
00:18:24,836 --> 00:18:26,966
overlapping area from one or the


611
00:18:26,966 --> 00:18:27,426
other.


612
00:18:27,896 --> 00:18:29,246
I have chosen to remove the


613
00:18:29,246 --> 00:18:30,806
overlap from the blue unit,


614
00:18:30,956 --> 00:18:32,576
because then both units are nice


615
00:18:32,576 --> 00:18:33,276
and rectangular.


616
00:18:33,576 --> 00:18:34,676
And now, it is fixed.


617
00:18:35,506 --> 00:18:36,736
Let's take a look at the other


618
00:18:36,736 --> 00:18:38,206
overlapping units error.


619
00:18:38,476 --> 00:18:40,066
It seems this elevator is too


620
00:18:40,066 --> 00:18:40,426
large.


621
00:18:40,586 --> 00:18:41,936
So I'm going to remove that


622
00:18:41,936 --> 00:18:43,666
overlap from the elevator unit.


623
00:18:43,956 --> 00:18:45,646
And now, both errors have been


624
00:18:45,646 --> 00:18:46,246
fixed.


625
00:18:46,716 --> 00:18:48,336
There is now one other error I


626
00:18:48,336 --> 00:18:50,036
need to quickly resolve with the


627
00:18:50,036 --> 00:18:51,906
unit being outside the reference


628
00:18:51,906 --> 00:18:52,356
level.


629
00:18:52,686 --> 00:18:54,086
You can see the orange area


630
00:18:54,086 --> 00:18:55,856
outside the level looks to be


631
00:18:55,856 --> 00:18:57,606
some sort of drawing error that


632
00:18:57,606 --> 00:18:58,856
was picked up when the file was


633
00:18:58,856 --> 00:19:00,046
digitized.


634
00:19:00,046 --> 00:19:01,386
I removed that area from the


635
00:19:01,386 --> 00:19:03,636
level and the entire file is now


636
00:19:03,636 --> 00:19:04,856
free from errors.


637
00:19:05,966 --> 00:19:07,176
Because all of the work in the


638
00:19:07,176 --> 00:19:08,896
Sandbox is done locally in the


639
00:19:08,896 --> 00:19:10,826
browser, I will have to click on


640
00:19:10,826 --> 00:19:13,276
Download the IMDF at the top


641
00:19:13,276 --> 00:19:14,666
right of the screen and save a


642
00:19:14,666 --> 00:19:16,356
copy in order to keep these


643
00:19:16,356 --> 00:19:18,456
changes for use in register and


644
00:19:18,456 --> 00:19:19,986
adding back into my content


645
00:19:19,986 --> 00:19:20,876
management system.


646
00:19:21,646 --> 00:19:23,876
To recap, best practices for


647
00:19:23,876 --> 00:19:25,226
IMDF validation.


648
00:19:25,906 --> 00:19:27,426
The same validation tools are


649
00:19:27,426 --> 00:19:28,626
available when uploading your


650
00:19:28,626 --> 00:19:30,956
files to the Indoor Maps Program


651
00:19:31,146 --> 00:19:32,936
and the IMDF Sandbox.


652
00:19:33,316 --> 00:19:34,836
They check the accuracy and


653
00:19:34,836 --> 00:19:36,986
integrity of your IMDF to the


654
00:19:36,986 --> 00:19:38,966
limit of the business use case.


655
00:19:39,396 --> 00:19:40,746
Warnings are surfaced when a


656
00:19:40,746 --> 00:19:42,586
condition can apply to multiple


657
00:19:42,586 --> 00:19:43,416
use cases.


658
00:19:43,916 --> 00:19:46,206
After validation, the IMDF is


659
00:19:46,206 --> 00:19:47,796
checked manually for accurate


660
00:19:47,796 --> 00:19:49,176
placement on the earth or


661
00:19:49,176 --> 00:19:51,056
georeferencing to ensure


662
00:19:51,056 --> 00:19:52,946
accurate indoor positioning when


663
00:19:52,946 --> 00:19:54,526
indoor positioning is enabled.


664
00:19:55,026 --> 00:19:56,936
With IMDF Sandbox, you can


665
00:19:56,936 --> 00:19:59,586
easily look at complex IMDFs and


666
00:19:59,586 --> 00:20:01,746
see the details, identifying


667
00:20:01,746 --> 00:20:03,676
fixed errors and then save the


668
00:20:03,676 --> 00:20:03,976
files.


669
00:20:04,766 --> 00:20:06,416
All of this work is done locally


670
00:20:06,416 --> 00:20:08,066
in your browser and is not


671
00:20:08,066 --> 00:20:09,136
shared with Apple.


672
00:20:09,626 --> 00:20:11,536
The IMDF Sandbox is available


673
00:20:11,536 --> 00:20:14,036
for anyone with an Apple ID and


674
00:20:14,036 --> 00:20:16,056
not just building owners in the


675
00:20:16,056 --> 00:20:17,356
Indoor Maps Program.


676
00:20:17,866 --> 00:20:20,656
And that is IMDF validation.


677
00:20:21,056 --> 00:20:22,526
So, now, we know how to join the


678
00:20:22,526 --> 00:20:24,796
Indoor Maps Program, create an


679
00:20:24,796 --> 00:20:27,166
IMDF and validate it.


680
00:20:27,886 --> 00:20:29,746
The next step is to enable Apple


681
00:20:29,746 --> 00:20:30,726
indoor positioning.


682
00:20:31,706 --> 00:20:33,406
But first, we need to understand


683
00:20:33,566 --> 00:20:34,816
just how Apple indoor


684
00:20:34,816 --> 00:20:35,966
positioning works.


685
00:20:36,556 --> 00:20:38,606
Imagine a still pond and a drop


686
00:20:38,606 --> 00:20:40,196
of rain falls on the surface of


687
00:20:40,196 --> 00:20:40,776
the water.


688
00:20:41,236 --> 00:20:42,416
The ripples caused by the


689
00:20:42,416 --> 00:20:43,616
raindrop are much like the


690
00:20:43,616 --> 00:20:45,066
signal coming from an access


691
00:20:45,066 --> 00:20:45,496
point.


692
00:20:45,736 --> 00:20:47,566
With one drop, one set of


693
00:20:47,566 --> 00:20:48,096
ripples.


694
00:20:48,096 --> 00:20:50,126
But with multiple raindrops, you


695
00:20:50,126 --> 00:20:51,666
get many ripples which produce


696
00:20:51,666 --> 00:20:53,156
waves that intersect with each


697
00:20:53,156 --> 00:20:54,806
other, lay a grid over the


698
00:20:54,806 --> 00:20:57,236
waves, and inside each box,


699
00:20:57,236 --> 00:20:58,526
there will be a unique texture


700
00:20:58,526 --> 00:21:00,326
pattern of ripples or what we


701
00:21:00,326 --> 00:21:01,746
call the fingerprint.


702
00:21:02,306 --> 00:21:04,296
The IMDF map provides the


703
00:21:04,296 --> 00:21:06,366
latitude, longitude and floor


704
00:21:06,366 --> 00:21:07,956
coordinates for each box in the


705
00:21:07,956 --> 00:21:09,936
grid, allowing the location


706
00:21:09,936 --> 00:21:11,476
service to create a pairing


707
00:21:11,626 --> 00:21:13,096
between the coordinates and the


708
00:21:13,096 --> 00:21:13,776
fingerprint.


709
00:21:14,256 --> 00:21:15,936
When your iPhone or iPad is


710
00:21:15,936 --> 00:21:17,296
entering the building, the


711
00:21:17,296 --> 00:21:18,946
fingerprint is downloaded to the


712
00:21:18,946 --> 00:21:20,416
device from the core location


713
00:21:20,416 --> 00:21:21,036
servers.


714
00:21:21,396 --> 00:21:23,166
Once this is done, while the


715
00:21:23,166 --> 00:21:24,906
device Wi-Fi radio must be


716
00:21:24,906 --> 00:21:26,706
active, it no longer needs a


717
00:21:26,706 --> 00:21:28,026
network connection for


718
00:21:28,026 --> 00:21:29,276
positioning to work.


719
00:21:29,616 --> 00:21:31,196
When an app calls location


720
00:21:31,196 --> 00:21:33,216
accuracy best, the device


721
00:21:33,216 --> 00:21:34,376
passively looks at the


722
00:21:34,376 --> 00:21:36,406
fingerprint, does an on-device


723
00:21:36,406 --> 00:21:38,166
pattern match, derives the


724
00:21:38,166 --> 00:21:39,606
coordinates and plots the


725
00:21:39,606 --> 00:21:40,606
location dots.


726
00:21:41,116 --> 00:21:42,986
Local sensors are then used to


727
00:21:42,986 --> 00:21:44,826
keep the dot up to date until a


728
00:21:44,826 --> 00:21:46,436
threshold at which point the


729
00:21:46,436 --> 00:21:47,826
device looks at the fingerprint


730
00:21:47,826 --> 00:21:48,156
again.


731
00:21:48,716 --> 00:21:50,076
Apple indoor positioning is


732
00:21:50,076 --> 00:21:52,366
incredibly fast, low power and


733
00:21:52,366 --> 00:21:53,426
private.


734
00:21:53,426 --> 00:21:56,216
In short, an indoor map plus


735
00:21:56,216 --> 00:21:58,746
Wi-Fi gives you the blue dot.


736
00:21:59,336 --> 00:22:01,156
The specific steps to enable


737
00:22:01,156 --> 00:22:03,076
indoor positioning are, with an


738
00:22:03,166 --> 00:22:05,086
IMDF already loaded into your


739
00:22:05,086 --> 00:22:07,206
account, collect the Wi-Fi using


740
00:22:07,206 --> 00:22:09,026
the survey app, upload the


741
00:22:09,026 --> 00:22:10,576
surveys back to the core


742
00:22:10,576 --> 00:22:12,396
location servers for analysis


743
00:22:12,396 --> 00:22:14,236
and activation, and then test


744
00:22:14,236 --> 00:22:16,196
positioning in the survey app as


745
00:22:16,196 --> 00:22:17,426
a reference for quality.


746
00:22:17,606 --> 00:22:19,466
Let's take a quick look at a


747
00:22:19,466 --> 00:22:21,376
demonstration of surveying and


748
00:22:21,376 --> 00:22:22,316
testing positioning.


749
00:22:23,376 --> 00:22:24,986
In the survey process, you drop


750
00:22:24,986 --> 00:22:26,876
points on a screen as visual


751
00:22:26,876 --> 00:22:28,026
markers of where you are


752
00:22:28,026 --> 00:22:29,296
standing in the real world.


753
00:22:29,806 --> 00:22:30,986
This is how the positioning


754
00:22:30,986 --> 00:22:32,736
algorithm is calibrated to your


755
00:22:32,736 --> 00:22:33,396
location.


756
00:22:34,426 --> 00:22:35,846
Here, you can see the surveyor


757
00:22:35,846 --> 00:22:37,756
has oriented himself in the room


758
00:22:38,106 --> 00:22:39,736
and on the screen and then


759
00:22:39,736 --> 00:22:40,696
presses record.


760
00:22:41,396 --> 00:22:42,546
The surveyor then moves the


761
00:22:42,546 --> 00:22:44,196
crosshair to the next location


762
00:22:44,196 --> 00:22:45,846
five to eight meters out to a


763
00:22:45,846 --> 00:22:47,046
point he can verify.


764
00:22:47,216 --> 00:22:48,836
And when in that spot, taps on


765
00:22:48,836 --> 00:22:50,496
the screen, registering the


766
00:22:50,496 --> 00:22:50,896
point.


767
00:22:51,296 --> 00:22:52,846
Notice his feet crossed the grid


768
00:22:52,846 --> 00:22:54,286
lines on the floor as he taps on


769
00:22:54,286 --> 00:22:55,876
the screen and calibrates the


770
00:22:55,876 --> 00:22:56,336
survey.


771
00:22:57,256 --> 00:22:59,206
At corners, the surveyor makes


772
00:22:59,206 --> 00:23:00,546
right angle turns in place,


773
00:23:00,726 --> 00:23:02,426
rotates the screen, taps and


774
00:23:02,426 --> 00:23:03,056
walks.


775
00:23:03,416 --> 00:23:05,336
The area colored in represents


776
00:23:05,336 --> 00:23:06,936
the Wi-Fi signal captured.


777
00:23:07,296 --> 00:23:08,726
When the floor is entirely


778
00:23:08,726 --> 00:23:10,416
colored in, the area is


779
00:23:10,416 --> 00:23:11,886
fingerprinted and the data is


780
00:23:11,886 --> 00:23:12,816
ready for upload.


781
00:23:13,346 --> 00:23:14,816
Once the survey data has been


782
00:23:14,816 --> 00:23:16,846
processed, you'll be notified


783
00:23:16,846 --> 00:23:18,206
that the indoor positioning is


784
00:23:18,206 --> 00:23:18,616
ready.


785
00:23:19,106 --> 00:23:21,126
Toggle privacy, location


786
00:23:21,126 --> 00:23:22,846
services to flush the location


787
00:23:22,846 --> 00:23:23,406
cache.


788
00:23:24,056 --> 00:23:25,676
And then you can begin testing


789
00:23:25,886 --> 00:23:27,216
the accuracy of indoor


790
00:23:27,216 --> 00:23:27,876
positioning.


791
00:23:28,846 --> 00:23:30,186
If positioning is working, the


792
00:23:30,186 --> 00:23:31,806
map will display in test mode,


793
00:23:32,126 --> 00:23:33,956
the green areas represent all


794
00:23:33,956 --> 00:23:35,526
the surveys that were uploaded


795
00:23:35,646 --> 00:23:37,186
and successfully processed.


796
00:23:37,396 --> 00:23:39,126
The blue dot is the center point


797
00:23:39,126 --> 00:23:40,936
of the positioning estimate with


798
00:23:40,936 --> 00:23:42,186
the light blue circle being the


799
00:23:42,186 --> 00:23:44,176
range of confidence in accuracy.


800
00:23:44,936 --> 00:23:47,376
Here, you can see the confidence


801
00:23:47,376 --> 00:23:48,946
circle is well within the three


802
00:23:48,946 --> 00:23:50,816
to five meter expectation of


803
00:23:50,816 --> 00:23:52,656
Apple indoor positioning and is


804
00:23:52,656 --> 00:23:54,156
following the tester quite well


805
00:23:54,156 --> 00:23:55,596
in the smaller environment.


806
00:23:55,856 --> 00:23:57,366
Including fixtures such as the


807
00:23:57,366 --> 00:23:59,516
tables in your IMDF will add to


808
00:23:59,516 --> 00:24:00,686
the constraints placed on the


809
00:24:00,686 --> 00:24:02,786
positioning service and enhance


810
00:24:02,786 --> 00:24:03,416
accuracy.


811
00:24:04,166 --> 00:24:05,476
Let's recap how indoor


812
00:24:05,476 --> 00:24:07,156
positioning works and how we


813
00:24:07,156 --> 00:24:07,766
enable it.


814
00:24:08,736 --> 00:24:10,526
Apple indoor positioning uses


815
00:24:10,526 --> 00:24:11,896
Wi-Fi fingerprinting.


816
00:24:12,156 --> 00:24:14,246
It uses any Wi-Fi signal in the


817
00:24:14,246 --> 00:24:16,176
building passively and does not


818
00:24:16,176 --> 00:24:18,006
make any impact on the network.


819
00:24:18,636 --> 00:24:20,206
Indoor positioning is enabled


820
00:24:20,206 --> 00:24:22,276
using the indoor survey app and


821
00:24:22,276 --> 00:24:24,216
the IMDF made available through


822
00:24:24,216 --> 00:24:25,546
the Indoor Maps Program.


823
00:24:26,156 --> 00:24:28,116
Surveying isn't difficult but


824
00:24:28,116 --> 00:24:29,946
the steps have to be followed if


825
00:24:29,946 --> 00:24:30,966
you are to succeed.


826
00:24:31,826 --> 00:24:33,546
Everyone surveying a location


827
00:24:33,686 --> 00:24:35,096
should have the same model of


828
00:24:35,176 --> 00:24:37,626
iPhone and same version of iOS.


829
00:24:37,926 --> 00:24:39,586
Drop pins every five to eight


830
00:24:39,586 --> 00:24:41,586
meters as you walk and continue


831
00:24:41,586 --> 00:24:42,556
in smooth motion.


832
00:24:43,076 --> 00:24:44,696
Keep in the center of walkways


833
00:24:44,696 --> 00:24:46,186
to ensure the walls are factored


834
00:24:46,186 --> 00:24:47,176
in to your positioning


835
00:24:47,176 --> 00:24:47,966
constraints.


836
00:24:48,256 --> 00:24:50,276
Do not use any sort of case on


837
00:24:50,276 --> 00:24:52,306
your iPhone while surveying.


838
00:24:52,656 --> 00:24:54,646
And read the help documentation


839
00:24:54,646 --> 00:24:57,026
for tips on patterns to walk for


840
00:24:57,026 --> 00:24:58,416
enabling specific types of


841
00:24:58,416 --> 00:25:00,316
buildings and positioning use


842
00:25:00,316 --> 00:25:00,826
cases.


843
00:25:01,166 --> 00:25:03,886
Finally, now that we have an


844
00:25:03,886 --> 00:25:06,496
IMDF and indoor positioning, how


845
00:25:06,496 --> 00:25:07,866
do we put this in our apps and


846
00:25:07,866 --> 00:25:08,786
websites?


847
00:25:09,246 --> 00:25:11,606
MapKit and MapKit JS support


848
00:25:11,606 --> 00:25:13,006
decoding and rendering of


849
00:25:13,006 --> 00:25:14,386
GeoJSON files.


850
00:25:14,736 --> 00:25:16,276
You can use these frameworks to


851
00:25:16,276 --> 00:25:18,776
display IMDF data as overlays


852
00:25:18,956 --> 00:25:20,646
and annotations on a map.


853
00:25:21,206 --> 00:25:23,026
Styling your indoor map elements


854
00:25:23,026 --> 00:25:24,546
is critical to how the map is


855
00:25:24,546 --> 00:25:26,086
perceived and used.


856
00:25:26,366 --> 00:25:28,076
Apply styles that match your


857
00:25:28,076 --> 00:25:29,926
app's theme or your company's


858
00:25:29,926 --> 00:25:30,396
brand.


859
00:25:30,686 --> 00:25:33,126
For a rich indoor experience,


860
00:25:33,346 --> 00:25:35,476
you can take advantage of indoor


861
00:25:35,476 --> 00:25:37,186
location by enabling Apple


862
00:25:37,186 --> 00:25:38,996
indoor positioning within your


863
00:25:38,996 --> 00:25:41,146
building and then using APIs


864
00:25:41,146 --> 00:25:43,046
from the core location framework


865
00:25:43,046 --> 00:25:44,806
to display the user location


866
00:25:44,806 --> 00:25:45,536
indoors.


867
00:25:45,796 --> 00:25:47,336
To learn more, check out the


868
00:25:47,336 --> 00:25:49,266
video and sample code for our


869
00:25:49,266 --> 00:25:52,586
WWDC Session Adding Indoor Maps


870
00:25:52,586 --> 00:25:53,976
to your App and Website.


871
00:25:55,356 --> 00:25:56,656
And that's the Indoor Maps


872
00:25:56,656 --> 00:25:57,246
Program.


873
00:25:57,466 --> 00:25:58,806
We look forward to seeing all


874
00:25:58,806 --> 00:25:59,976
the wonderful apps you will


875
00:25:59,976 --> 00:26:00,336
build.


876
00:26:00,726 --> 00:26:02,146
Thank you so much for your time


877
00:26:02,146 --> 00:26:02,576
today.


878
00:26:02,576 --> 00:26:04,796
For more information, visit our


879
00:26:04,796 --> 00:26:05,616
website at


880
00:26:05,616 --> 00:26:08,446
register.apple.com/indoor.

