2
00:00:00.000 --> 00:00:02.102 line:-1 position:50%
[MAC STARTUP CHIME]


3
00:00:02.102 --> 00:00:05.772 line:-1 position:50%
♪ Bass music playing ♪


4
00:00:05.772 --> 00:00:09.243 line:-1 position:50%
[KEYSTROKES]


5
00:00:09.243 --> 00:00:10.677 line:-1 position:50%
Ally Kazmucha: Hi, I'm Ally,


6
00:00:10,677 --> 00:00:13,447 line:-1
and I'm the engineering program
manager for Game Center.


7
00:00:13.447 --> 00:00:16.016 line:-1 position:50%
I'm really excited to spend
some time walking you through


8
00:00:16.016 --> 00:00:18.619 line:-1 position:50%
all the improvements
we're making this year.


9
00:00:18.619 --> 00:00:21.288 line:-1 position:50%
We also launched some great
new features this spring


10
00:00:21.288 --> 00:00:22.623 line:-1 position:50%
like Friends API,


11
00:00:22.623 --> 00:00:25.158 line:-1 position:50%
which we'll be talking
to you about as well.


12
00:00:25.158 --> 00:00:27.361 line:-1 position:50%
But before I get into
some of those details,


13
00:00:27,361 --> 00:00:29,997 line:-1
I'd like to briefly talk about
some of the core features


14
00:00:29,997 --> 00:00:31,531 line:-1
Game Center offers,


15
00:00:31,531 --> 00:00:34,501 line:-1
many of which were completely
refreshed last year.


16
00:00:34,501 --> 00:00:37,738 line:-1
Game Center is Apple's
own social gaming network.


17
00:00:37.738 --> 00:00:38.805 line:-1 position:50%
As a developer,


18
00:00:38.805 --> 00:00:41.608 line:-1 position:50%
you can take advantage of
whichever Game Center features


19
00:00:41,608 --> 00:00:45,012 line:-1
make sense in your game
through our GameKit framework.


20
00:00:45.012 --> 00:00:48.148 line:-1 position:50%
For players, Game Center
Is a single gaming ID


21
00:00:48,148 --> 00:00:51,451 line:-1
that allows them to instantly
compete on leaderboards,


22
00:00:51.451 --> 00:00:53.453 line:-1 position:50%
track achievement progress,


23
00:00:53,453 --> 00:00:55,589 line:-1
play multiplayer games together,


24
00:00:55,589 --> 00:00:58,659 line:-1
and even check out
their friends' profiles.


25
00:00:58.659 --> 00:01:01.194 line:-1 position:50%
Helping players find and
discover great new games


26
00:01:01.194 --> 00:01:04.798 line:-1 position:50%
is also one of the primary goals
of Game Center.


27
00:01:04,798 --> 00:01:07,401 line:-1
We added quite a few features
in iOS 14


28
00:01:07,401 --> 00:01:09,269 line:-1
to help with
game discoverability,


29
00:01:09.269 --> 00:01:11.438 line:-1 position:50%
and we're adding
even more this year.


30
00:01:11.438 --> 00:01:13.140 line:-1 position:50%
Games are all about community,


31
00:01:13.140 --> 00:01:15.008 line:-1 position:50%
and keeping up with
what our friends are playing


32
00:01:15,008 --> 00:01:17,044 line:-1
is a great way
to discover new titles


33
00:01:17.044 --> 00:01:19.313 line:-1 position:50%
we may have otherwise missed.


34
00:01:19,313 --> 00:01:20,948 line:-1
That's why we integrated
Game Center


35
00:01:20.948 --> 00:01:23.050 line:-1 position:50%
directly with the App Store
last year.


36
00:01:23,050 --> 00:01:24,518 line:-1
We now show more information


37
00:01:24.518 --> 00:01:26.353 line:-1 position:50%
on what your Game Center
friends are up to,


38
00:01:26.353 --> 00:01:29.456 line:-1 position:50%
through both the Games and
Arcade tabs of the App Store.


39
00:01:29,456 --> 00:01:32,059 line:-1
Let's take a closer look.


40
00:01:32,059 --> 00:01:33,827 position:50%
While browsing the Arcade tab,


41
00:01:33,827 --> 00:01:36,129 position:50%
I can see that several
of my Game Center friends


42
00:01:36,129 --> 00:01:39,032 position:50%
are playing a few games
that look interesting to me,


43
00:01:39,032 --> 00:01:41,468 line:0
including a new game
called "Wonderbox."


44
00:01:41,468 --> 00:01:44,171 position:50%
Let's check out the product page
to learn more.


45
00:01:44,171 --> 00:01:46,273 position:50%
Not only can I read more
about the game itself


46
00:01:46,273 --> 00:01:47,841 line:0
on the product page,


47
00:01:47,841 --> 00:01:50,677 position:50%
I can also see a complete list
of my Game Center friends


48
00:01:50,677 --> 00:01:53,947 line:0
who are already playing
that particular game.


49
00:01:53,947 --> 00:01:57,184 line:0
Tapping on one of them brings up
their Game Center profile.


50
00:01:57,184 --> 00:01:57,918 line:0
From here,


51
00:01:57,918 --> 00:02:00,887 position:50%
I can see even more of the games
they've been playing.


52
00:02:00,887 --> 00:02:02,389 position:50%
And if I see one I like,


53
00:02:02,389 --> 00:02:05,292 line:0
I can download it directly
from their profile.


54
00:02:05,292 --> 00:02:07,861 line:0
The Friends Are Playing section
will automatically appear


55
00:02:07,861 --> 00:02:12,232 position:50%
on the product page for all
Game Center-enabled games.


56
00:02:12,232 --> 00:02:13,266 position:50%
There are, of course,


57
00:02:13,266 --> 00:02:15,335 position:50%
opportunities outside
of the App Store


58
00:02:15,335 --> 00:02:18,305 position:50%
to check out
a friend's profile as well.


59
00:02:18,305 --> 00:02:19,506 position:50%
For example,


60
00:02:19,506 --> 00:02:21,742 position:50%
I can tap on a friend
within any leaderboard --


61
00:02:21,742 --> 00:02:24,544 line:0
like shown here --
to bring up their profile.


62
00:02:24,544 --> 00:02:26,413 line:0
These are all great
opportunities for players


63
00:02:26,413 --> 00:02:28,081 line:0
to find new games to play.


64
00:02:28,081 --> 00:02:29,516 position:50%
And there's nothing
you have to do


65
00:02:29,516 --> 00:02:31,418 line:0
to make your game eligible
either.


66
00:02:31,418 --> 00:02:34,221 line:0
All Game Center-enabled games
automatically show up


67
00:02:34,221 --> 00:02:37,791 line:0
in both Friends Are Playing
and Recently Played.


68
00:02:37,791 --> 00:02:41,094 line:-1
This fall, we're also adding two
new Game Center-powered widgets.


69
00:02:41.094 --> 00:02:42.662 line:-1 position:50%
The first is --
you guessed it --


70
00:02:42,662 --> 00:02:44,164 line:-1
Friends Are Playing.


71
00:02:44.164 --> 00:02:46.767 line:-1 position:50%
We think this is going to be
an even easier way for players


72
00:02:46,767 --> 00:02:49,202 line:-1
to keep up with and discover
more of the games


73
00:02:49.202 --> 00:02:52.539 line:-1 position:50%
their friends are playing,
right from their home screen.


74
00:02:52,539 --> 00:02:54,941 line:-1
The second widget is called
Continue Playing.


75
00:02:54.941 --> 00:02:57.044 line:-1 position:50%
This widget automatically
resurfaces games


76
00:02:57,044 --> 00:02:58,879 line:-1
you've already launched
and played.


77
00:02:58,879 --> 00:03:01,048 line:-1
So you can jump right back in
where you left off


78
00:03:01.048 --> 00:03:02.682 line:-1 position:50%
with a single tap.


79
00:03:02,682 --> 00:03:04,117 line:-1
And if you're on an iPad,


80
00:03:04.117 --> 00:03:05.419 line:-1 position:50%
both of these Game Center
widgets


81
00:03:05,419 --> 00:03:08,755 line:-1
support the new larger format
as well.


82
00:03:08,755 --> 00:03:11,024 line:-1
And just like Friends Are
Playing and Recently Played,


83
00:03:11,024 --> 00:03:14,127 line:-1
there's no additional code
needed or feature to adopt.


84
00:03:14.127 --> 00:03:15.796 line:-1 position:50%
If your game supports
Game Center,


85
00:03:15.796 --> 00:03:18.031 line:-1 position:50%
it's automatically included.


86
00:03:18,031 --> 00:03:21,034 line:-1
And since friends are such an
important part of social play,


87
00:03:21.034 --> 00:03:22.903 line:-1 position:50%
we're making some
significant improvements


88
00:03:22,903 --> 00:03:26,006 line:-1
to both our friending
and multiplayer flows too.


89
00:03:26.006 --> 00:03:27.707 line:-1 position:50%
First up, friends.


90
00:03:27.707 --> 00:03:29.009 line:-1 position:50%
Game Center friend requests


91
00:03:29.009 --> 00:03:30.677 line:-1 position:50%
will continue to be sent
through Messages


92
00:03:30.677 --> 00:03:32.345 line:-1 position:50%
just like they are today.


93
00:03:32.345 --> 00:03:33.847 line:-1 position:50%
But just in case you miss one,


94
00:03:33,847 --> 00:03:35,982 line:-1
we've added a brand-new
Friend Requests inbox


95
00:03:35.982 --> 00:03:39.619 line:-1 position:50%
to let you manage them
all in one place.


96
00:03:39.619 --> 00:03:41.088 line:-1 position:50%
We've also made
some great improvements


97
00:03:41,088 --> 00:03:42,923 line:-1
to the flow within Messages,


98
00:03:42.923 --> 00:03:45.392 line:-1 position:50%
including support to send
and receive friend requests


99
00:03:45.392 --> 00:03:47.160 line:-1 position:50%
on MacOS.


100
00:03:47.160 --> 00:03:48.528 line:-1 position:50%
But as a developer,


101
00:03:48.528 --> 00:03:50.897 line:-1 position:50%
you're probably most interested
in what you can do


102
00:03:50,897 --> 00:03:52,699 line:-1
with Game Center friends.


103
00:03:52.699 --> 00:03:55.035 line:-1 position:50%
And that's where Friends API
comes in.


104
00:03:55,035 --> 00:03:57,704 line:-1
Friends API gives you
privacy-friendly access


105
00:03:57.704 --> 00:03:59.473 line:-1 position:50%
to a player's
Game Center friends,


106
00:03:59.473 --> 00:04:02.042 line:-1 position:50%
so you can create all kinds
of unique experiences


107
00:04:02,042 --> 00:04:03,443 line:-1
within your game.


108
00:04:03,443 --> 00:04:05,312 line:-1
Whether it's showing
what level my friends are on


109
00:04:05.312 --> 00:04:06.746 line:-1 position:50%
in a progression map,


110
00:04:06.746 --> 00:04:09.349 line:-1 position:50%
or letting players
launch missions together,


111
00:04:09.349 --> 00:04:10.951 line:-1 position:50%
all of these can now
be accomplished


112
00:04:10.951 --> 00:04:12.819 line:-1 position:50%
by adopting Friends API.


113
00:04:12.819 --> 00:04:16.389 line:-1 position:50%
Chee Han will be walking you
through how to do just that.


114
00:04:16.389 --> 00:04:18.024 line:-1 position:50%
So now that you know
about some of the ways


115
00:04:18.024 --> 00:04:20.393 line:-1 position:50%
Game Center can help improve
discoverability


116
00:04:20.393 --> 00:04:23.497 line:-1 position:50%
and connect players together
outside of your game,


117
00:04:23.497 --> 00:04:25.665 line:-1 position:50%
let's look at some of the
benefits Game Center offers


118
00:04:25.665 --> 00:04:27.367 line:-1 position:50%
within your game.


119
00:04:27,367 --> 00:04:30,871 line:-1
In iOS 14, we introduced
a brand-new player dashboard


120
00:04:30,871 --> 00:04:34,374 line:-1
you can add to your game
through the Access Point API.


121
00:04:34.374 --> 00:04:36.910 line:-1 position:50%
We also shipped
an entirely refreshed UI --


122
00:04:36,910 --> 00:04:39,146 line:-1
virtually no screen
went untouched.


123
00:04:39,146 --> 00:04:40,313 line:-1
With vibrant colors
that match


124
00:04:40,313 --> 00:04:42,382 line:-1
the underlying tones
of your game,


125
00:04:42.382 --> 00:04:46.786 line:-1 position:50%
this refresh was meant to feel
at home in any game.


126
00:04:46,786 --> 00:04:48,588 line:-1
You can also choose
to use a combination


127
00:04:48,588 --> 00:04:51,958 line:-1
of our native Game Center UI
alongside any custom UI


128
00:04:51.958 --> 00:04:54.928 line:-1 position:50%
that best fits within your game.


129
00:04:54.928 --> 00:04:57.464 line:-1 position:50%
For example, showing
current leaderboard scores


130
00:04:57.464 --> 00:04:59.432 line:-1 position:50%
within a level
selection screen --


131
00:04:59.432 --> 00:05:01.968 line:-1 position:50%
or even as a live indicator
while playing a level --


132
00:05:01.968 --> 00:05:03.837 line:-1 position:50%
are all examples that make sense


133
00:05:03.837 --> 00:05:07.908 line:-1 position:50%
to be themed in a UI
that matches your game.


134
00:05:07.908 --> 00:05:09.976 line:-1 position:50%
While not in a level,
you can still choose


135
00:05:09.976 --> 00:05:12.546 line:-1 position:50%
to give players access
to all their Game Center data


136
00:05:12.546 --> 00:05:15.882 line:-1 position:50%
through the access point --
like shown here.


137
00:05:15,882 --> 00:05:18,552 line:-1
This just gives your players
even more ways to keep up with


138
00:05:18.552 --> 00:05:20.387 line:-1 position:50%
and interact with
their Game Center rankings


139
00:05:20.387 --> 00:05:22.355 line:-1 position:50%
and achievements.


140
00:05:22.355 --> 00:05:24.157 line:-1 position:50%
And if your game
supports multiplayer,


141
00:05:24,157 --> 00:05:26,293 line:-1
we've got some great updates
here as well.


142
00:05:26,293 --> 00:05:29,229 line:-1
This year, we continued to focus
on helping people connect


143
00:05:29.229 --> 00:05:33.400 line:-1 position:50%
and start playing a game
together as fast as possible.


144
00:05:33.400 --> 00:05:35.535 line:-1 position:50%
Now, when you start
a multiplayer match,


145
00:05:35.535 --> 00:05:37.304 line:-1 position:50%
our new suggestions section


146
00:05:37.304 --> 00:05:40.240 line:-1 position:50%
also surfaces your existing
Messages groups.


147
00:05:40.240 --> 00:05:42.042 line:-1 position:50%
Tap a group,
and the invite is sent


148
00:05:42,042 --> 00:05:44,778 line:-1
within the Messages thread
you already have going.


149
00:05:44.778 --> 00:05:47.547 line:-1 position:50%
We also remember the Game Center
friend groups you’ve played with


150
00:05:47,547 --> 00:05:49,316 line:-1
and suggest them as well.


151
00:05:49,316 --> 00:05:51,184 line:-1
So one tap gets you back
in the game


152
00:05:51.184 --> 00:05:53.853 line:-1 position:50%
with the same friends again.


153
00:05:53,853 --> 00:05:56,690 line:-1
We're also introducing
a brand-new multiplayer API


154
00:05:56,690 --> 00:05:57,958 line:-1
called "Fast Start."


155
00:05:57.958 --> 00:06:00.126 line:-1 position:50%
Zhehong will be walking you
through some of the benefits


156
00:06:00.126 --> 00:06:04.431 line:-1 position:50%
of Fast Start and how you can
implement it within your game.


157
00:06:04.431 --> 00:06:06.800 line:-1 position:50%
Finally, we've also added
controller support


158
00:06:06.800 --> 00:06:10.103 line:-1 position:50%
for all Game Center UI
on both iPhone and iPad.


159
00:06:10,103 --> 00:06:12,672 line:-1
The best part:
there's zero new API to adopt


160
00:06:12,672 --> 00:06:15,809 line:-1
or versioning in Xcode
required on your part.


161
00:06:15.809 --> 00:06:18.378 line:-1 position:50%
Just press the Home button
on any supported controller


162
00:06:18,378 --> 00:06:21,214 line:-1
and the Game Center dashboard
is instantly presented.


163
00:06:21.214 --> 00:06:24.150 line:-1 position:50%
Press it again
and you're back in the game.


164
00:06:24.150 --> 00:06:26.586 line:-1 position:50%
While the Game Center dashboard
and all the sections within it


165
00:06:26.586 --> 00:06:28.455 line:-1 position:50%
will be navigable by default,


166
00:06:28,455 --> 00:06:31,691 line:-1
you will need to add controller
support for your own UI.


167
00:06:31,691 --> 00:06:34,661 line:-1
And if you're interested in what
else is new with controllers,


168
00:06:34.661 --> 00:06:36.596 line:-1 position:50%
be sure to check out
the session titled


169
00:06:36,596 --> 00:06:38,999 line:-1
"Tap into virtual and physical
game controllers"


170
00:06:38,999 --> 00:06:40,500 line:-1
to learn more.


171
00:06:40.500 --> 00:06:42.302 line:-1 position:50%
Here's a look
at the rest of the session.


172
00:06:42.302 --> 00:06:44.137 line:-1 position:50%
First up, Chee Han is going
to walk you through


173
00:06:44,137 --> 00:06:45,305 line:-1
our friending improvements,


174
00:06:45.305 --> 00:06:47.941 line:-1 position:50%
including a detailed
walk-through of Friends API


175
00:06:47.941 --> 00:06:50.543 line:-1 position:50%
and how you can implement it
to leverage Game Center friends


176
00:06:50,543 --> 00:06:52,746 line:-1
within your game.


177
00:06:52.746 --> 00:06:54.281 line:-1 position:50%
And to wrap up the session,


178
00:06:54.281 --> 00:06:56.950 line:-1 position:50%
Zhehong will fill you in
on everything multiplayer,


179
00:06:56,950 --> 00:06:58,184 line:-1
including a walk-through


180
00:06:58,184 --> 00:07:00,420 line:-1
of how we've streamlined
the invite flow


181
00:07:00,420 --> 00:07:02,856 line:-1
and how you can implement
our new Fast Start API


182
00:07:02,856 --> 00:07:05,492 line:-1
to speed up the process
even further.


183
00:07:05,492 --> 00:07:06,926 line:-1
To get you started on Friends,


184
00:07:06,926 --> 00:07:08,695 line:-1
here's Chee Han.


185
00:07:08,695 --> 00:07:10,130 line:-1
Chee Han Lim: Hi, I'm Chee Han.


186
00:07:10,130 --> 00:07:13,033 line:-1
I'm an engineer on
the Game Center team.


187
00:07:13.033 --> 00:07:15.535 line:-1 position:50%
One of the best parts
of playing games


188
00:07:15,535 --> 00:07:17,837 line:-1
is being able to share
those experiences


189
00:07:17.837 --> 00:07:19.739 line:-1 position:50%
with your family and friends.


190
00:07:19.739 --> 00:07:22.542 line:-1 position:50%
For some of us,
it's about the competition;


191
00:07:22,542 --> 00:07:25,879 line:-1
and for others,
it's about the connection.


192
00:07:25.879 --> 00:07:28.982 line:-1 position:50%
Game Center friends
allows you to do just that.


193
00:07:28,982 --> 00:07:30,817 line:-1
So there are two capabilities


194
00:07:30.817 --> 00:07:33.153 line:-1 position:50%
that we will be focusing on
today.


195
00:07:33,153 --> 00:07:35,422 line:-1
First, we have made it easy


196
00:07:35,422 --> 00:07:39,359 line:-1
to enable players to send friend
requests within your game.


197
00:07:39.359 --> 00:07:43.063 line:-1 position:50%
Second, we have introduced
some new APIs


198
00:07:43.063 --> 00:07:45.865 line:-1 position:50%
for you to leverage
your player's friends list


199
00:07:45,865 --> 00:07:48,068 line:-1
through Friends API.


200
00:07:48.068 --> 00:07:51.538 line:-1 position:50%
First, let's talk about
sending friend requests.


201
00:07:51.538 --> 00:07:54.140 line:-1 position:50%
When your game is better
when played together,


202
00:07:54.140 --> 00:07:56.476 line:-1 position:50%
it might make sense
to encourage your player


203
00:07:56,476 --> 00:07:59,145 line:-1
to make Game Center friends
within your game.


204
00:07:59,145 --> 00:08:03,783 line:-1
We have introduced a new API
to let you do just that.


205
00:08:03.783 --> 00:08:08.321 line:-1 position:50%
In your game, you can have an
Add Friends button on your UI,


206
00:08:08,321 --> 00:08:12,225 line:-1
where we recommend you to use
SF Symbols as a button image.


207
00:08:12.225 --> 00:08:14.494 line:-1 position:50%
When your user presses
on the button,


208
00:08:14.494 --> 00:08:16.696 line:-1 position:50%
you can call our friending API


209
00:08:16,696 --> 00:08:19,632 line:-1
to allow your player to add
friends within your game.


210
00:08:19,632 --> 00:08:23,069 line:-1
Let's see how we can do that
in code.


211
00:08:23.069 --> 00:08:23.870 line:-1 position:50%
When you call


212
00:08:23.870 --> 00:08:28.007 line:-1 position:50%
presentFriendRequestCreator
FromViewController API,


213
00:08:28.007 --> 00:08:31.411 line:-1 position:50%
a message sheet will be
presented with a real controller


214
00:08:31,411 --> 00:08:33,346 line:-1
that you have passed in.


215
00:08:33,346 --> 00:08:36,316 line:-1
After your player finishes
sending the friend request,


216
00:08:36,316 --> 00:08:39,819 line:-1
we will dismiss the sheet and
return the control to your app


217
00:08:39.819 --> 00:08:42.822 line:-1 position:50%
with an optional error.


218
00:08:42,822 --> 00:08:43,857 line:-1
That's it!


219
00:08:43,857 --> 00:08:45,458 line:-1
With a few lines of code,


220
00:08:45.458 --> 00:08:48.728 line:-1 position:50%
you will be able to provide
your player the opportunity


221
00:08:48,728 --> 00:08:51,498 line:-1
to send friend requests
without leaving your game.


222
00:08:51,498 --> 00:08:54,300 line:-1
And now, let's take a look
at what you can do


223
00:08:54,300 --> 00:08:56,736 line:-1
with all those Games Center
friends.


224
00:08:56.736 --> 00:08:59.272 line:-1 position:50%
The second feature
we have added this spring


225
00:08:59,272 --> 00:09:03,610 line:-1
is privacy-friendly API access
to Game Center friends.


226
00:09:03,610 --> 00:09:07,414 line:-1
When a player launches your game
and tries to use functionality


227
00:09:07,414 --> 00:09:11,484 line:-1
for the first time that requires
Game Center friends access,


228
00:09:11.484 --> 00:09:13.853 line:-1 position:50%
they will be prompted
to allow or deny


229
00:09:13.853 --> 00:09:17.223 line:-1 position:50%
access to their friends list.


230
00:09:17,223 --> 00:09:18,491 line:-1
If allowed,


231
00:09:18.491 --> 00:09:21.795 line:-1 position:50%
we will return you a list of
their bi-directional friends,


232
00:09:21,795 --> 00:09:24,864 line:-1
which means the list will
only contain their friends


233
00:09:24.864 --> 00:09:28.201 line:-1 position:50%
who have also granted access
to your game.


234
00:09:28.201 --> 00:09:30.703 line:-1 position:50%
We will also sync
this permission for you


235
00:09:30.703 --> 00:09:32.572 line:-1 position:50%
across all their devices,


236
00:09:32,572 --> 00:09:36,976 line:-1
and the user will only need
to approve your request once.


237
00:09:36,976 --> 00:09:40,346 line:-1
So what kind of experiences
can you create


238
00:09:40.346 --> 00:09:44.284 line:-1 position:50%
if your player allows you access
to their friends list?


239
00:09:44.284 --> 00:09:47.253 line:-1 position:50%
Well, this will allow you
to do things like,


240
00:09:47.253 --> 00:09:51.291 line:-1 position:50%
show what level my friends
are on within a progression map,


241
00:09:51,291 --> 00:09:55,061 line:-1
let me launch a mission together
with my friends in the lobby,


242
00:09:55,061 --> 00:09:57,630 line:-1
show a friends-only
recurring leaderboard


243
00:09:57,630 --> 00:10:00,433 line:-1
while we are playing
a multiplayer game together,


244
00:10:00,433 --> 00:10:02,902 line:-1
and much more.


245
00:10:02.902 --> 00:10:06.005 line:-1 position:50%
Let us walk through
what Friends API will look like


246
00:10:06,005 --> 00:10:08,308 line:-1
from your player's perspective.


247
00:10:08,308 --> 00:10:10,376 line:-1
Your game will call an API


248
00:10:10,376 --> 00:10:14,881 line:-1
to ask for permission
to access the player's friends.


249
00:10:14,881 --> 00:10:17,817 line:-1
And the player will see
a familiar system prompt


250
00:10:17,817 --> 00:10:22,455 line:-1
where they have to decide
to allow or deny your request.


251
00:10:22,455 --> 00:10:25,625 line:-1
And you will have the option
to explain to the player


252
00:10:25,625 --> 00:10:28,661 line:-1
why you are requesting
friends access.


253
00:10:28,661 --> 00:10:31,097 line:-1
Once your player
approves your request,


254
00:10:31,097 --> 00:10:33,066 line:-1
we will return the list
of friends


255
00:10:33,066 --> 00:10:36,536 line:-1
who have also granted access
to your game.


256
00:10:36,536 --> 00:10:41,040 line:-1
In this example, we will use
a leaderboard to keep track


257
00:10:41,040 --> 00:10:43,877 line:-1
of players' progression with
the score that I have submitted


258
00:10:43.877 --> 00:10:45.578 line:-1 position:50%
to this leaderboard.


259
00:10:45,578 --> 00:10:49,816 line:-1
With the score submitted,
I can utilize Friends API


260
00:10:49,816 --> 00:10:52,519 line:-1
to show my friends
on a progression map


261
00:10:52.519 --> 00:10:57.156 line:-1 position:50%
next to the level corresponding
to their leaderboard scores.


262
00:10:57,156 --> 00:11:01,594 line:-1
This may look something like
this within your own game UI.


263
00:11:01,594 --> 00:11:05,164 line:-1
You can see that my friends'
progression is populated


264
00:11:05,164 --> 00:11:06,332 line:-1
on the map,


265
00:11:06.332 --> 00:11:09.836 line:-1 position:50%
where I will know exactly
where they are in my game.


266
00:11:09.836 --> 00:11:12.839 line:-1 position:50%
Let's jump into how to create
this UI with code.


267
00:11:12,839 --> 00:11:16,676 line:-1
We will need to do some setup
before you can call Friends API.


268
00:11:16,676 --> 00:11:22,148 line:-1
First, you'll need to add
NSGKFriendListUsageDescription


269
00:11:22.148 --> 00:11:24.250 line:-1 position:50%
to your info.plist.


270
00:11:24.250 --> 00:11:26.586 line:-1 position:50%
This description
will be displayed


271
00:11:26,586 --> 00:11:29,489 line:-1
as part of the permission
prompt to our player,


272
00:11:29.489 --> 00:11:32.992 line:-1 position:50%
as seen in the previous slide.


273
00:11:32,992 --> 00:11:35,194 line:-1
If the description is missing,


274
00:11:35.194 --> 00:11:39.599 line:-1 position:50%
all Friends API calls
will result into an error.


275
00:11:39,599 --> 00:11:41,634 line:-1
Once the description is set,


276
00:11:41.634 --> 00:11:46.606 line:-1 position:50%
you can now call the two new
APIs in GKLocalPlayer class.


277
00:11:46,606 --> 00:11:49,042 line:-1
To check for friends
list access,


278
00:11:49.042 --> 00:11:51.578 line:-1 position:50%
you should call
loadFriendsAuthorizationStatus


279
00:11:51,578 --> 00:11:54,013 line:-1
in GKLocalPlayer class.


280
00:11:54,013 --> 00:11:55,214 line:-1
You may want to call this


281
00:11:55,214 --> 00:11:58,451 line:-1
in your app’s
applicationDidFinishLaunching,


282
00:11:58.451 --> 00:12:00.820 line:-1 position:50%
and if the state
is not determined,


283
00:12:00.820 --> 00:12:04.023 line:-1 position:50%
you may want to delay
loading players' friends list


284
00:12:04,023 --> 00:12:05,491 line:-1
until there is a good moment


285
00:12:05,491 --> 00:12:08,661 line:-1
for you to show
the permission prompt.


286
00:12:08.661 --> 00:12:12.265 line:-1 position:50%
This will allow your player
some time to make a decision


287
00:12:12.265 --> 00:12:14.801 line:-1 position:50%
once the prompt is presented.


288
00:12:14.801 --> 00:12:18.438 line:-1 position:50%
You will receive
GKFriendsAuthorizationStatus


289
00:12:18,438 --> 00:12:20,440 line:-1
in one of the following
four states


290
00:12:20,440 --> 00:12:22,775 line:-1
within a completion block.


291
00:12:22,775 --> 00:12:25,445 line:-1
You can refer
to GKLocalPlayer header


292
00:12:25,445 --> 00:12:28,982 line:-1
for a detailed explanation
of each state.


293
00:12:28,982 --> 00:12:33,019 line:0
When returned state
is denied or restricted,


294
00:12:33,019 --> 00:12:36,189 position:50%
if you have previously
collected data for this player,


295
00:12:36,189 --> 00:12:39,192 line:0
you should delete
the collected data on your end.


296
00:12:39,192 --> 00:12:41,761 position:50%
If your player chooses
to grant you access


297
00:12:41,761 --> 00:12:43,963 line:0
with an authorized state,


298
00:12:43,963 --> 00:12:48,001 position:50%
you will then be able to proceed
to load their friends list


299
00:12:48,001 --> 00:12:50,103 position:50%
by calling loadFriends API.


300
00:12:50,103 --> 00:12:53,473 line:0
Let's take a look at that now.


301
00:12:53,473 --> 00:12:57,710 line:-1
In this code, we will leverage
the power of Swift async call,


302
00:12:57.710 --> 00:13:01.080 line:-1 position:50%
to simplify our calls
to GameKit framework.


303
00:13:01.080 --> 00:13:03.416 line:-1 position:50%
We will start
with an async method


304
00:13:03.416 --> 00:13:07.220 line:-1 position:50%
with the name
loadFriendsOnProgressionMap.


305
00:13:07,220 --> 00:13:12,125 line:-1
First, we will call loadFriends
API in GKLocalPlayer class.


306
00:13:12.125 --> 00:13:14.560 line:-1 position:50%
GameKit will return
your player’s friends


307
00:13:14,560 --> 00:13:18,464 line:-1
as an array of GKPlayer objects.


308
00:13:18.464 --> 00:13:21.601 line:-1 position:50%
Next, we will load
our progression leaderboard


309
00:13:21,601 --> 00:13:25,938 line:-1
from GameKit with the
leaderboard ID "progress."


310
00:13:25,938 --> 00:13:28,174 line:-1
Once we have
the leaderboard object,


311
00:13:28,174 --> 00:13:30,643 line:-1
we can then pass in
your player’s friends


312
00:13:30,643 --> 00:13:33,546 line:-1
to loadEntries method.


313
00:13:33,546 --> 00:13:36,416 line:-1
You will obtain the score
they have on that leaderboard,


314
00:13:36,416 --> 00:13:41,254 line:-1
which is used to keep track
of which level they are in now.


315
00:13:41,254 --> 00:13:44,257 line:-1
With that, we have all
the information we need


316
00:13:44,257 --> 00:13:47,527 line:-1
to display your player's friends
on the progression map.


317
00:13:47,527 --> 00:13:48,728 line:-1
And that's it!


318
00:13:48,728 --> 00:13:50,329 line:-1
You have now
successfully integrated


319
00:13:50.329 --> 00:13:52.365 line:-1 position:50%
Friends API in your game


320
00:13:52,365 --> 00:13:55,768 line:-1
and displayed your player's
friends on a progression map.


321
00:13:55,768 --> 00:13:58,971 line:-1
We are super excited to see
all the amazing experiences


322
00:13:58.971 --> 00:14:01.641 line:-1 position:50%
that our developer community
will come up with


323
00:14:01,641 --> 00:14:03,609 line:-1
using this new feature.


324
00:14:03,609 --> 00:14:06,913 line:-1
And with that, I would like
to turn it over to Zhehong.


325
00:14:06,913 --> 00:14:09,048 line:-1
He will tell you all about
the great changes


326
00:14:09,048 --> 00:14:12,518 line:-1
we have made to multiplayer
this year.


327
00:14:12.518 --> 00:14:14.120 line:-1 position:50%
Zhehong An: Thanks, Chee Han.


328
00:14:14,120 --> 00:14:17,623 line:-1
Hi everyone, I am Zhehong
from the Game Center team.


329
00:14:17,623 --> 00:14:20,293 line:-1
I cannot wait to introduce
all the new features


330
00:14:20,293 --> 00:14:23,529 line:-1
and improvements in Game Center
multiplayer this year.


331
00:14:23,529 --> 00:14:25,331 line:-1
We have made
significant improvements


332
00:14:25,331 --> 00:14:28,735 line:-1
to Game Center multiplayer,
as Ally mentioned previously.


333
00:14:28,735 --> 00:14:31,070 line:-1
The main purpose
behind all of these changes


334
00:14:31,070 --> 00:14:33,740 line:-1
is to help your players
find people to play with


335
00:14:33,740 --> 00:14:37,510 line:-1
and get into a game
as fast as possible.


336
00:14:37.510 --> 00:14:40.880 line:-1 position:50%
Game Center multiplayer UI
allows many different ways


337
00:14:40,880 --> 00:14:44,450 line:-1
for players to find people
to connect and play with.


338
00:14:44,450 --> 00:14:47,854 line:-1
This includes automatching
with other players


339
00:14:47,854 --> 00:14:53,192 line:-1
or sending invites at once
to multiple friends, contacts,


340
00:14:53.192 --> 00:14:57.163 line:-1 position:50%
nearby players, a phone number
or an email address,


341
00:14:57,163 --> 00:15:00,566 line:-1
Game Center groups,
or Message groups.


342
00:15:00,566 --> 00:15:02,902 position:50%
It dramatically reduces
your efforts


343
00:15:02,902 --> 00:15:05,872 line:0
to show different people
from different sources.


344
00:15:05,872 --> 00:15:08,975 line:-1
As you might know,
automatching is the mechanism


345
00:15:08,975 --> 00:15:11,110 line:-1
which helps your players
find each other


346
00:15:11.110 --> 00:15:13.346 line:-1 position:50%
from Game Center's
matchmaking pool.


347
00:15:13.346 --> 00:15:15.581 line:-1 position:50%
I will walk through
the other new concepts


348
00:15:15.581 --> 00:15:18.184 line:-1 position:50%
in the following slides.


349
00:15:18.184 --> 00:15:20.586 line:-1 position:50%
To bring better suggestions
to the players,


350
00:15:20.586 --> 00:15:23.589 line:-1 position:50%
we have introduced
the Suggestions Shelf


351
00:15:23.589 --> 00:15:25.124 line:-1 position:50%
containing a list of people


352
00:15:25,124 --> 00:15:27,326 line:-1
from within and without
Game Center


353
00:15:27.326 --> 00:15:30.029 line:-1 position:50%
that your players
might want to invite.


354
00:15:30,029 --> 00:15:32,999 line:-1
It contains nearby players,
Game Center groups,


355
00:15:32.999 --> 00:15:35.401 line:-1 position:50%
and Message groups.


356
00:15:35.401 --> 00:15:36.869 line:-1 position:50%
A Game Center group,


357
00:15:36.869 --> 00:15:39.639 line:-1 position:50%
which is a new concept
we have introduced this year,


358
00:15:39,639 --> 00:15:42,275 line:-1
is a group of players
you recently played with


359
00:15:42,275 --> 00:15:45,044 line:-1
in real-time
or turn-based matches.


360
00:15:45,044 --> 00:15:48,781 line:-1
We believe this new feature
will make it fairly easy


361
00:15:48,781 --> 00:15:51,651 line:-1
for players who want
to play a game repeatedly


362
00:15:51,651 --> 00:15:53,619 line:-1
with a certain group of people,


363
00:15:53.619 --> 00:15:57.023 line:-1 position:50%
because this makes it possible
to select all the players


364
00:15:57.023 --> 00:16:00.827 line:-1 position:50%
in that group
with just a single tap.


365
00:16:00.827 --> 00:16:04.197 line:-1 position:50%
And we are leveraging
the people you already talk to


366
00:16:04.197 --> 00:16:08.134 line:-1 position:50%
on a regular basis over iMessage
with Message Groups.


367
00:16:08,134 --> 00:16:11,704 line:-1
A single tap will select
an entire Message Group,


368
00:16:11,704 --> 00:16:14,974 line:-1
and the invitation uses
your existing group chat.


369
00:16:14.974 --> 00:16:19.111 line:-1 position:50%
Now, you can not only send
invites faster via Messages,


370
00:16:19.111 --> 00:16:23.783 line:-1 position:50%
but also chat
about a game afterwards.


371
00:16:23.783 --> 00:16:27.186 line:-1 position:50%
Once you have selected
the people you wish to invite,


372
00:16:27,186 --> 00:16:29,755 line:-1
tap the Send button
at the top right,


373
00:16:29,755 --> 00:16:32,792 line:-1
and you will see them
in the lobby.


374
00:16:32,792 --> 00:16:36,562 line:-1
We now have the capability
for adding or removing players


375
00:16:36.562 --> 00:16:40.199 line:-1 position:50%
even after the initial
invitations have gone out.


376
00:16:40,199 --> 00:16:43,436 line:-1
For example, you may want
to remove some invited players


377
00:16:43,436 --> 00:16:45,471 line:-1
who are not able to respond,


378
00:16:45,471 --> 00:16:47,640 line:-1
but you don't want
to remove other players


379
00:16:47.640 --> 00:16:50.343 line:-1 position:50%
who have already accepted.


380
00:16:50,343 --> 00:16:52,879 line:0
So, we have made it possible


381
00:16:52,879 --> 00:16:55,314 line:0
to individually remove
invited players


382
00:16:55,314 --> 00:16:58,451 position:50%
by tapping on the X button
in their player slot,


383
00:16:58,451 --> 00:17:00,620 position:50%
as long as they have not
accepted yet,


384
00:17:00,620 --> 00:17:04,790 line:0
or they leave the game
after they have accepted.


385
00:17:04,790 --> 00:17:07,560 line:0
And players can continue
inviting more people


386
00:17:07,560 --> 00:17:08,761 line:0
to your game,


387
00:17:08,761 --> 00:17:10,997 position:50%
which gives them
a lot of flexibility


388
00:17:10,997 --> 00:17:14,867 line:0
to quickly craft the right group
of people to play with.


389
00:17:14.867 --> 00:17:19.205 line:-1 position:50%
All of this greatly simplifies
and streamlines the experience


390
00:17:19,205 --> 00:17:20,973 line:-1
by making it much easier
for players


391
00:17:20,973 --> 00:17:26,112 line:-1
to play your multiplayer game
faster and easier than ever.


392
00:17:26,112 --> 00:17:28,814 line:-1
Making it easy for players
to invite people they know


393
00:17:28.814 --> 00:17:32.551 line:-1 position:50%
in turn helps increase
your game's discoverability.


394
00:17:32,551 --> 00:17:36,656 line:-1
As you can see, if you leverage
Game Center multiplayer UI,


395
00:17:36,656 --> 00:17:40,993 line:-1
you get all these
awesome features for free.


396
00:17:40.993 --> 00:17:44.664 line:-1 position:50%
To make it even quicker
to start a multiplayer game,


397
00:17:44,664 --> 00:17:48,301 line:-1
we added a new API
this year called "Fast Start."


398
00:17:48.301 --> 00:17:50.236 line:-1 position:50%
If you adopt Fast Start,


399
00:17:50.236 --> 00:17:52.538 line:-1 position:50%
the game initiator
will have the choice


400
00:17:52.538 --> 00:17:56.642 line:-1 position:50%
to either wait for everyone
to be connected or begin a game


401
00:17:56.642 --> 00:18:00.913 line:-1 position:50%
as soon as the minimum number of
invited players have connected.


402
00:18:00.913 --> 00:18:04.917 line:-1 position:50%
It gets players much faster
from Game Center UI


403
00:18:04,917 --> 00:18:07,954 line:-1
back into your game UI.


404
00:18:07,954 --> 00:18:10,690 line:-1
Meanwhile in the background,
Game Center will continue


405
00:18:10,690 --> 00:18:12,525 line:-1
connecting the rest
of the players


406
00:18:12,525 --> 00:18:15,494 line:-1
and automatching
any unfilled player slots.


407
00:18:15.494 --> 00:18:17.897 line:-1 position:50%
All these players will be able
to join your game


408
00:18:17,897 --> 00:18:19,332 line:-1
when they connect.


409
00:18:19,332 --> 00:18:22,635 line:-1
If your game can support players
joining a multiplayer session


410
00:18:22.635 --> 00:18:23.970 line:-1 position:50%
at different times,


411
00:18:23,970 --> 00:18:29,075 line:-1
then you can take advantage of
Fast Start via Game Center UI.


412
00:18:29.075 --> 00:18:30.977 line:-1 position:50%
You can utilize this feature


413
00:18:30.977 --> 00:18:34.747 line:-1 position:50%
to make some warmup
game scenes as well.


414
00:18:34.747 --> 00:18:37.083 line:-1 position:50%
The best way to see
this in action


415
00:18:37,083 --> 00:18:39,385 line:-1
is to show you an example.


416
00:18:39.385 --> 00:18:42.421 line:-1 position:50%
Here, we are using a game
called "The Coast,"


417
00:18:42.421 --> 00:18:44.957 line:-1 position:50%
which leverages Fast Start.


418
00:18:44.957 --> 00:18:48.728 line:-1 position:50%
You will see how powerful it is
to utilize Fast Start


419
00:18:48.728 --> 00:18:51.263 line:-1 position:50%
to build your game.


420
00:18:51.263 --> 00:18:54.300 line:-1 position:50%
First, I present
GKMatchmakerViewController


421
00:18:54.300 --> 00:18:55.835 line:-1 position:50%
with a GKMatchRequest,


422
00:18:55.835 --> 00:18:59.238 line:-1 position:50%
configured with 2 minPlayers
and 5 maxPlayers.


423
00:18:59,238 --> 00:19:01,240 line:-1
In this way, the game can start


424
00:19:01.240 --> 00:19:02.842 line:-1 position:50%
as long as two players
are ready,


425
00:19:02,842 --> 00:19:04,810 line:-1
including the local player.


426
00:19:04,810 --> 00:19:06,812 line:-1
Then I tap
the Invite Friends button


427
00:19:06,812 --> 00:19:08,748 line:-1
to launch the player picker.


428
00:19:08,748 --> 00:19:10,282 line:-1
I pick the players
I want to invite,


429
00:19:10.282 --> 00:19:13.052 line:-1 position:50%
and I wait for them
to respond.


430
00:19:13.052 --> 00:19:16.255 line:-1 position:50%
As you can see,
once an invitee accepts,


431
00:19:16,255 --> 00:19:17,990 line:-1
the Start Game button
is highlighted,


432
00:19:17.990 --> 00:19:22.461 line:-1 position:50%
so I can either start a game or
wait for other players to join.


433
00:19:22.461 --> 00:19:25.598 line:-1 position:50%
I decide to start,
and the gameplay begins


434
00:19:25.598 --> 00:19:29.935 line:-1 position:50%
as soon as the matchmaker view
controller is dismissed.


435
00:19:29.935 --> 00:19:33.439 line:-1 position:50%
Since this game initially
started with two players,


436
00:19:33,439 --> 00:19:35,374 line:-1
you can see two boats.


437
00:19:35,374 --> 00:19:39,045 line:-1
Meanwhile, Game Center is still
connecting in the background.


438
00:19:39,045 --> 00:19:40,980 line:0
Once the third player joins,


439
00:19:40,980 --> 00:19:45,451 line:0
the game is notified,
and we bring up the third boat.


440
00:19:45,451 --> 00:19:48,788 line:0
Because we also had
two automatched slots,


441
00:19:48,788 --> 00:19:52,291 position:50%
Game Center is still
automatching in the background.


442
00:19:52,291 --> 00:19:54,794 position:50%
After the matchmaking process
is finished,


443
00:19:54,794 --> 00:19:57,830 line:0
two automatched players join.


444
00:19:57,830 --> 00:20:03,002 line:0
Now, we have a full set
of five players for this game.


445
00:20:03,002 --> 00:20:05,971 line:0
As you can see,
by adopting Fast Start,


446
00:20:05,971 --> 00:20:09,075 line:0
different players will be able
to join the same game session


447
00:20:09,075 --> 00:20:10,976 line:0
at different times.


448
00:20:10,976 --> 00:20:13,646 line:-1
Finally, let's look at the code
you need to add


449
00:20:13,646 --> 00:20:17,183 line:-1
to accomplish what we have
just walked through together.


450
00:20:17,183 --> 00:20:19,952 line:-1
To construct a
GKMatchmakerViewController


451
00:20:19.952 --> 00:20:22.755 line:-1 position:50%
with Fast Start mode
turned on,


452
00:20:22,755 --> 00:20:26,258 line:-1
simply set its property
canStartWithMinimumPlayers


453
00:20:26.258 --> 00:20:28.394 line:-1 position:50%
to "true".


454
00:20:28.394 --> 00:20:31.997 line:-1 position:50%
Please note: the minPlayers
of the GKMatchRequest


455
00:20:31,997 --> 00:20:33,732 line:-1
is the minimum number of players


456
00:20:33,732 --> 00:20:38,370 line:-1
that the gameplay
in your game needs to start.


457
00:20:38,370 --> 00:20:42,174 line:-1
Set the delegate after you get
the GKMatch instance,


458
00:20:42,174 --> 00:20:44,243 line:-1
so that you can know
the connection status


459
00:20:44.243 --> 00:20:46.312 line:-1 position:50%
of the players in the match.


460
00:20:46,312 --> 00:20:48,481 line:-1
And
didChangeConnectionState


461
00:20:48.481 --> 00:20:51.350 line:-1 position:50%
is the delegate method
where you can handle players


462
00:20:51.350 --> 00:20:54.420 line:-1 position:50%
who join later.


463
00:20:54,420 --> 00:20:55,988 line:-1
On the invitee side,


464
00:20:55,988 --> 00:20:58,924 line:-1
just present the
GKMatchmakerViewController


465
00:20:58,924 --> 00:21:01,994 line:-1
initialized
with the GKInvite instance.


466
00:21:01.994 --> 00:21:05.231 line:-1 position:50%
This is probably the same
as what you are doing today.


467
00:21:05.231 --> 00:21:08.734 line:-1 position:50%
And don't forget to set
the matchmakerDelegate.


468
00:21:08.734 --> 00:21:10.302 line:-1 position:50%
That's pretty much about it.


469
00:21:10.302 --> 00:21:13.539 line:-1 position:50%
We are excited to see how you
adopt not only Fast Start,


470
00:21:13,539 --> 00:21:16,542 line:-1
but all the new features and
improvements we are providing


471
00:21:16.542 --> 00:21:18.744 line:-1 position:50%
this year for multiplayer.


472
00:21:18.744 --> 00:21:22.248 line:-1 position:50%
To recap,
here is what we covered today.


473
00:21:22.248 --> 00:21:24.884 line:-1 position:50%
We introduced
how Game Center helps


474
00:21:24,884 --> 00:21:27,953 line:-1
increase the discoverability
of your game.


475
00:21:27.953 --> 00:21:31.023 line:-1 position:50%
After that, we talked
about Friends API


476
00:21:31.023 --> 00:21:34.426 line:-1 position:50%
along with some general
improvements to Friends.


477
00:21:34.426 --> 00:21:37.563 line:-1 position:50%
Then all the multiplayer
features and improvements


478
00:21:37,563 --> 00:21:41,167 line:-1
we just talked through help your
players play multiplayer games


479
00:21:41.167 --> 00:21:45.004 line:-1 position:50%
with people they know,
as fast as possible.


480
00:21:45,004 --> 00:21:49,375 position:50%
And also, we have better support
for controllers this year.


481
00:21:49,375 --> 00:21:51,911 position:50%
At the bottom, you will see
another two sessions


482
00:21:51,911 --> 00:21:54,280 line:0
which you might be
interested in.


483
00:21:54,280 --> 00:21:56,148 position:50%
They're about
recurring leaderboard


484
00:21:56,148 --> 00:21:58,150 line:0
and game controllers.


485
00:21:58,150 --> 00:21:59,652 line:-1
Thank you all for watching.


486
00:21:59,652 --> 00:22:02,121 line:-1
Enjoy your week at WWDC.


487
00:22:02,121 --> 00:22:05,624 size:2% position:89% align:center
♪

