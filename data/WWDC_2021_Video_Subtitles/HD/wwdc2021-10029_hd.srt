2
00:00:01.835 --> 00:00:04.838 line:-1 align:center
[upbeat music]


3
00:00:04,872 --> 00:00:09,009 line:-1
♪ ♪


4
00:00:09,042 --> 00:00:11,078 line:-1
[Jen] Hi, I’m Jen Simmons.


5
00:00:11.111 --> 00:00:14.882 line:-2 align:center
And I’m here to talk about how the new
Safari impacts web design and development.


6
00:00:14,915 --> 00:00:17,451 line:-1
If you’re a web designer, a web developer,


7
00:00:17.484 --> 00:00:20.621 line:-2 align:center
or have any role involved
in making a website or a web app,


8
00:00:20.654 --> 00:00:22.456 line:-1 align:center
this session is for you.


9
00:00:22,489 --> 00:00:25,225 line:-1
This is a huge year for Safari.


10
00:00:25.259 --> 00:00:27.794 line:-2 align:center
In this session,
we’re going to focus on the visual


11
00:00:27,828 --> 00:00:31,465 line:-2
or interaction design impact
of the changes in Safari.


12
00:00:31.498 --> 00:00:33.967 line:-1 align:center
Safari has an all-new design.


13
00:00:34.001 --> 00:00:35.936 line:-2 align:center
By default,
your website’s gonna look great,


14
00:00:35,969 --> 00:00:39,273 line:-2
but if you wanna go the extra mile,
this session will empower you


15
00:00:39.306 --> 00:00:42.442 line:-2 align:center
to make your work really shine
in the new Safari.


16
00:00:42,476 --> 00:00:45,913 line:-2
We’ll talk about a few of the great
new features in macOS, iOS,


17
00:00:45.946 --> 00:00:48.682 line:-1 align:center
and iPadOS and how they’ll impact the web.


18
00:00:48,715 --> 00:00:51,485 line:-1
We’ll cover what’s new in CSS,


19
00:00:51,518 --> 00:00:54,454 line:-2
including my favorite,
the new aspect-ratio property.


20
00:00:54.488 --> 00:00:58.392 line:-2 align:center
And we’ll take a look at form controls,
controls we’ve newly implemented


21
00:00:58.425 --> 00:01:02.062 line:-2 align:center
and a whole new look for forms
on iOS and iPadOS.


22
00:01:02.095 --> 00:01:04.264 line:-1 align:center
Let’s start with the design


23
00:01:04.298 --> 00:01:06.133 line:-1 align:center
of the browser itself.


24
00:01:06.166 --> 00:01:09.670 line:-2 align:center
Since very early
in the evolution of the web browser,


25
00:01:09.703 --> 00:01:12.105 line:-1 align:center
most of the browsers we’ve used have had


26
00:01:12,139 --> 00:01:14,408 line:-1
a few fundamental things in common.


27
00:01:14,441 --> 00:01:17,778 line:-2
There’s a very tall toolbar
at the top with a slot


28
00:01:17.811 --> 00:01:20.380 line:-1 align:center
for the URL that’s on its own line.


29
00:01:20,414 --> 00:01:23,650 line:-1
And the website stays inside this space,


30
00:01:23,684 --> 00:01:27,287 line:-1
this portal to the web, the viewport.


31
00:01:27.321 --> 00:01:30.390 line:-2 align:center
Of course, as users,
we’ve trained ourselves


32
00:01:30.424 --> 00:01:33.694 line:-2 align:center
to put all of our focus on the website
that we’re using,


33
00:01:33,727 --> 00:01:35,963 line:-1
but for years, the browser itself


34
00:01:35.996 --> 00:01:38.866 line:-1 align:center
has maintained a strong visual presence.


35
00:01:38.899 --> 00:01:41.735 line:-2 align:center
No, matter how a website
is designed to look and feel,


36
00:01:41.768 --> 00:01:44.004 line:-1 align:center
the browser interface framed that design


37
00:01:44.037 --> 00:01:45.772 line:-1 align:center
and dominated it.


38
00:01:45.806 --> 00:01:49.042 line:-1 align:center
What if we could get rid of that frame


39
00:01:49,076 --> 00:01:51,445 line:-1
and extend the design of the website


40
00:01:51,478 --> 00:01:53,647 line:-1
to every edge of the window?


41
00:01:53.680 --> 00:01:56.950 line:-1 align:center
Well, that’s what we’ve done in Safari 15.


42
00:01:56.984 --> 00:01:59.319 line:-1 align:center
This year, we’ve reimagined


43
00:01:59.353 --> 00:02:01.688 line:-1 align:center
the browsing experience as we know it.


44
00:02:01,722 --> 00:02:05,425 line:-2
We’re putting all the focus
on the web content.


45
00:02:05.459 --> 00:02:07.528 line:-1 align:center
The new Safari blends the tab bar


46
00:02:07.561 --> 00:02:10.230 line:-2 align:center
into each website
by changing its background color.


47
00:02:10,264 --> 00:02:13,367 line:-1
The entire interface is on one line,


48
00:02:13,400 --> 00:02:16,303 line:-1
and things naturally appear when needed.


49
00:02:16.336 --> 00:02:19.339 line:-2 align:center
This makes your content
feel more expansive.


50
00:02:19,373 --> 00:02:21,942 line:-1
Each web page or web app takes over,


51
00:02:21,975 --> 00:02:24,111 line:-1
extending to all four edges of the window.


52
00:02:24.144 --> 00:02:27.581 line:-2 align:center
The browser interface yields
to the content.


53
00:02:27,614 --> 00:02:30,217 line:-1
So what determines which color is used


54
00:02:30.250 --> 00:02:31.885 line:-1 align:center
for the background of the toolbar?


55
00:02:31.919 --> 00:02:35.255 line:-2 align:center
As a web designer or developer,
you can choose the color


56
00:02:35,289 --> 00:02:37,958 line:-1
and code that choice into your HTML.


57
00:02:37.991 --> 00:02:39.960 line:-1 align:center
For sites that don’t provide a color,


58
00:02:39.993 --> 00:02:42.262 line:-1 align:center
Safari will figure out a color to use.


59
00:02:42.296 --> 00:02:45.232 line:-2 align:center
Sometimes Safari matches
the background color of the web page.


60
00:02:45.265 --> 00:02:47.334 line:-2 align:center
Other times,
it matches the header background.


61
00:02:47,367 --> 00:02:50,437 line:-2
To provide your choice
for the toolbar color,


62
00:02:50,470 --> 00:02:54,041 line:-1
put it in the HTML head using a meta tag


63
00:02:54.074 --> 00:02:55.976 line:-1 align:center
with name=“theme-color,”


64
00:02:56,009 --> 00:02:59,012 line:-2
and use the content attribute
to specify the color.


65
00:02:59,046 --> 00:03:01,815 line:-2
By providing this information
in the HTML head,


66
00:03:01.849 --> 00:03:04.251 line:-2 align:center
Safari will get it immediately
on page load.


67
00:03:04.284 --> 00:03:06.053 line:-1 align:center
It’s also declarative code.


68
00:03:06,086 --> 00:03:07,855 line:-1
It’s very simple to use.


69
00:03:07.888 --> 00:03:10.524 line:-1 align:center
You can support both Light and Dark Mode


70
00:03:10,557 --> 00:03:12,125 line:-1
by setting two colors.


71
00:03:12,159 --> 00:03:15,696 line:-2
Yes, now you can add
media attributes to meta tags.


72
00:03:15,729 --> 00:03:19,399 line:-2
In this case,
media=“(prefers-color-scheme: light)”


73
00:03:19.433 --> 00:03:21.168 line:-1 align:center
in the first meta tag


74
00:03:21.201 --> 00:03:24.271 line:-2 align:center
and “(prefers-color-scheme: dark)”
in the second.


75
00:03:24,304 --> 00:03:26,840 line:-2
This is a new addition
to the HTML specification


76
00:03:26.874 --> 00:03:28.575 line:-1 align:center
that we proposed this spring.


77
00:03:28,609 --> 00:03:31,378 line:-2
It gives us a simple,
robust way to hook


78
00:03:31,411 --> 00:03:33,947 line:-2
into which color scheme
the user has asked for.


79
00:03:33,981 --> 00:03:37,885 line:-2
In browsers that do support
name=“theme-color”


80
00:03:37,918 --> 00:03:41,755 line:-2
but don’t yet support using
the media attribute on meta tags,


81
00:03:41,788 --> 00:03:44,958 line:-2
those browsers will use
the first theme-color declaration


82
00:03:44,992 --> 00:03:46,226 line:-1
and ignore the rest.


83
00:03:46.260 --> 00:03:48.228 line:-1 align:center
So put your fallback first,


84
00:03:48,262 --> 00:03:51,265 line:-1
not last, the way you do in CSS.


85
00:03:51.298 --> 00:03:55.235 line:-2 align:center
Even if your site doesn’t have
a whole design for Dark Mode,


86
00:03:55,269 --> 00:03:58,505 line:-2
you might want to set your own color
for the tab bar


87
00:03:58,539 --> 00:04:00,073 line:-1
when the device is in Dark Mode.


88
00:04:00,107 --> 00:04:03,076 line:-2
If the one color you’ve specified
is too light,


89
00:04:03.110 --> 00:04:06.914 line:-2 align:center
Safari will make adjustments
in order to give the user


90
00:04:06.947 --> 00:04:10.350 line:-2 align:center
the Dark Mode experience
that they’ve asked for.


91
00:04:10,384 --> 00:04:14,087 line:-2
Instead of defining the theme color
on the HTML head,


92
00:04:14,121 --> 00:04:17,257 line:-1
you can define it in a web manifest file.


93
00:04:17,291 --> 00:04:19,426 line:-1
If you specify it in both places,


94
00:04:19.459 --> 00:04:22.729 line:-2 align:center
the color in the HTML head
is the one that’s used.


95
00:04:22,763 --> 00:04:25,933 line:-1
And right now in June of 2021,


96
00:04:25,966 --> 00:04:29,269 line:-2
there’s not yet a way
to define multiple colors


97
00:04:29.303 --> 00:04:32.206 line:-2 align:center
for Light and Dark Modes
in a web manifest file.


98
00:04:32.239 --> 00:04:34.408 line:-2 align:center
There’s discussion happening
in the working group


99
00:04:34,441 --> 00:04:36,076 line:-1
right now to figure that out.


100
00:04:36.109 --> 00:04:39.513 line:-1 align:center
There’s also a very narrow


101
00:04:39.546 --> 00:04:43.283 line:-2 align:center
range of colors
that Safari isn’t going to apply -


102
00:04:43.317 --> 00:04:46.253 line:-2 align:center
colors, really,
that would totally get in the way


103
00:04:46,286 --> 00:04:50,123 line:-2
of the user’s experience,
maybe making it inaccessible.


104
00:04:50,157 --> 00:04:53,126 line:-2
For these, Safari will do
something else, like here,


105
00:04:53.160 --> 00:04:55.863 line:-1 align:center
changing this site’s tab bar to white.


106
00:04:55.896 --> 00:04:59.499 line:-2 align:center
If the color that you’ve chosen
doesn’t seem to be working,


107
00:04:59.533 --> 00:05:01.768 line:-1 align:center
just try adjusting it a bit.


108
00:05:01.802 --> 00:05:04.838 line:-2 align:center
If you’d like,
you can set the theme color


109
00:05:04.872 --> 00:05:07.808 line:-2 align:center
to be different
on different parts of your website.


110
00:05:07.841 --> 00:05:11.278 line:-1 align:center
Each separate HTML page has its own head.


111
00:05:11,311 --> 00:05:14,915 line:-2
Or you can use JavaScript
to swap out the theme color dynamically


112
00:05:14,948 --> 00:05:16,683 line:-1
in reaction to a user’s behavior.


113
00:05:16,717 --> 00:05:19,453 line:-1
Think through ways that your design


114
00:05:19.486 --> 00:05:22.656 line:-2 align:center
can blend the tab bar seamlessly
into your site.


115
00:05:23.790 --> 00:05:27.194 line:-2 align:center
That’s how you can create a feeling
of your website or web app


116
00:05:27.227 --> 00:05:30.664 line:-2 align:center
filling the whole window
in Safari 15 on macOS


117
00:05:30,697 --> 00:05:34,601 line:-1
and Safari for iPadOS and iOS 15.


118
00:05:34,635 --> 00:05:38,438 line:-2
Next, let’s look
at two other small adjustments


119
00:05:38.472 --> 00:05:40.941 line:-2 align:center
that you can do
to really take your website


120
00:05:40,974 --> 00:05:42,576 line:-1
to the next level.


121
00:05:42,609 --> 00:05:45,312 line:-1
Many of us have a lot of tabs open


122
00:05:45.345 --> 00:05:47.181 line:-1 align:center
in our web browsers as we work.


123
00:05:47.214 --> 00:05:50.184 line:-1 align:center
The new Safari provides an intuitive way


124
00:05:50.217 --> 00:05:52.986 line:-1 align:center
to organize those tabs into groups.


125
00:05:53.020 --> 00:05:54.855 line:-1 align:center
I really like this.


126
00:05:54.888 --> 00:05:57.991 line:-2 align:center
I’ve organized my work projects
into separate groups


127
00:05:58,025 --> 00:06:01,261 line:-1
and named each whatever I want,


128
00:06:01,295 --> 00:06:03,430 line:-1
and then I can put them away.


129
00:06:03.463 --> 00:06:05.365 line:-2 align:center
Put way the things
that I’m not working on,


130
00:06:05.399 --> 00:06:09.269 line:-2 align:center
knowing that I can reload those tabs
later on any device,


131
00:06:09.303 --> 00:06:13.140 line:-2 align:center
since Tab Groups are synced
across macOS, iOS and iPadOS.


132
00:06:13.173 --> 00:06:15.876 line:-1 align:center
While Tab Groups give us the ability


133
00:06:15,909 --> 00:06:17,878 line:-1
to declutter the tab bar,


134
00:06:17.911 --> 00:06:21.181 line:-2 align:center
it still is possible to have
a lot of tabs open


135
00:06:21.215 --> 00:06:22.883 line:-1 align:center
in any one window.


136
00:06:22.916 --> 00:06:24.685 line:-1 align:center
When there are a lot of tabs,


137
00:06:24,718 --> 00:06:27,287 line:-1
the favicon becomes pretty important


138
00:06:27.321 --> 00:06:30.224 line:-1 align:center
for easily identifying which tab is which.


139
00:06:30,257 --> 00:06:33,493 line:-2
You’ll want to make sure you provide
a great icon for your site,


140
00:06:33.527 --> 00:06:36.430 line:-1 align:center
one that supports high-resolution devices.


141
00:06:36.463 --> 00:06:39.132 line:-1 align:center
A favicon with a transparent background


142
00:06:39.166 --> 00:06:41.001 line:-1 align:center
can look especially great.


143
00:06:43.003 --> 00:06:46.840 line:-2 align:center
By the way, a lot of teams
use automated tooling


144
00:06:46.874 --> 00:06:49.910 line:-2 align:center
to generate the different sizes
and formats of icons


145
00:06:49,943 --> 00:06:51,945 line:-1
to support a wide range of devices.


146
00:06:51,979 --> 00:06:54,648 line:-1
Often, such tooling generates code


147
00:06:54.681 --> 00:06:56.717 line:-1 align:center
that specifies a theme color


148
00:06:56,750 --> 00:06:59,620 line:-2
along with the icon code
for the HTML head.


149
00:06:59,653 --> 00:07:03,357 line:-2
Or perhaps your CMS
or your front-end framework


150
00:07:03.390 --> 00:07:06.226 line:-2 align:center
is defining a theme color,
and you didn’t realize it.


151
00:07:06,260 --> 00:07:07,494 line:-1
Check and see.


152
00:07:07.528 --> 00:07:11.465 line:-2 align:center
Test that color and see if it’s a good one
for the design of your site,


153
00:07:11,498 --> 00:07:14,134 line:-1
perhaps changing it to a better one.


154
00:07:14,168 --> 00:07:16,537 line:-1
When most people look at the new tab bar,


155
00:07:16.570 --> 00:07:19.506 line:-2 align:center
they’ll just see all their tabs
on one line.


156
00:07:19,540 --> 00:07:22,242 line:-2
As someone who makes websites,
you’ll probably notice


157
00:07:22,276 --> 00:07:25,145 line:-2
that when the site is loaded
into a browser window,


158
00:07:25,179 --> 00:07:28,482 line:-2
the tab for that site
shows its domain name.


159
00:07:28,515 --> 00:07:31,051 line:-1
And when a site is in a background tab,


160
00:07:31,084 --> 00:07:33,086 line:-1
the web page title is what’s displayed,


161
00:07:33.120 --> 00:07:35.022 line:-1 align:center
the text in the title tag


162
00:07:35.055 --> 00:07:37.191 line:-1 align:center
in the HTML head.


163
00:07:37,224 --> 00:07:39,660 line:-2
The space for the page title
can be limited,


164
00:07:39.693 --> 00:07:41.728 line:-1 align:center
so crafting a thoughtful pattern


165
00:07:41.762 --> 00:07:43.931 line:-1 align:center
for your web page title is important.


166
00:07:43,964 --> 00:07:46,967 line:-2
The quicker the title gets to the point,
the easier it is


167
00:07:47.000 --> 00:07:49.736 line:-1 align:center
for users to find the tab that they want.


168
00:07:49,770 --> 00:07:52,372 line:-2
Some sites put the name
of the website first


169
00:07:52,406 --> 00:07:54,341 line:-1
and the name of the page second.


170
00:07:54.374 --> 00:07:58.278 line:-1 align:center
Instead, put the content title first.


171
00:07:58,312 --> 00:08:01,415 line:-2
That way, if someone has
your site open in multiple tabs,


172
00:08:01.448 --> 00:08:05.018 line:-1 align:center
it’s easier to tell which tab is which.


173
00:08:05.052 --> 00:08:08.889 line:-2 align:center
The color of the tab bar,
the favicon, and the page title


174
00:08:08,922 --> 00:08:12,426 line:-2
are all parts of a site
to design with intention.


175
00:08:12.459 --> 00:08:14.628 line:-1 align:center
They don’t show up on the web page itself,


176
00:08:14.661 --> 00:08:17.130 line:-2 align:center
but they deeply impact
someone’s experience


177
00:08:17.164 --> 00:08:18.899 line:-1 align:center
of your website or web app.


178
00:08:18.932 --> 00:08:21.468 line:-2 align:center
To show you more
on how to leverage the power


179
00:08:21.502 --> 00:08:24.838 line:-1 align:center
of the theme-color meta tag, here’s Myles.


180
00:08:24.872 --> 00:08:26.473 line:-1 align:center
[Myles] Hi, I’m Myles.


181
00:08:26.507 --> 00:08:29.076 line:-2 align:center
And I’m working on Dog Dog DC,
which is a website


182
00:08:29,109 --> 00:08:32,880 line:-2
where people can stream videos
of their dogs during WWDC.


183
00:08:32,913 --> 00:08:35,215 line:-2
Here, you can see
Maggie’s stream in Safari.


184
00:08:35,249 --> 00:08:36,917 line:-1
She looks so happy!


185
00:08:36,950 --> 00:08:38,552 line:-2
I’ve started the stream
out paused for now,


186
00:08:38.585 --> 00:08:40.954 line:-1 align:center
but I’ll unpause it for just a little.


187
00:08:43,524 --> 00:08:45,092 line:-1
Good catch.


188
00:08:45,125 --> 00:08:47,561 line:-1
And on the right side of Dog Dog DC,


189
00:08:47,594 --> 00:08:51,265 line:-2
you can comment in real time
to express just how good Maggie is.


190
00:08:52.065 --> 00:08:56.036 line:-2 align:center
Now, at the top of the Safari window,
Safari 15 colors the tab bar black,


191
00:08:56,069 --> 00:08:58,739 line:-2
which is actually
the background color of my page.


192
00:08:58,772 --> 00:09:01,308 line:-2
You can see the black color is used
as the background


193
00:09:01,341 --> 00:09:04,745 line:-1
of the center content area at the bottom.


194
00:09:04.778 --> 00:09:07.381 line:-2 align:center
And that black color looks good
up there in the tab bar.


195
00:09:07.414 --> 00:09:11.351 line:-2 align:center
The whole window looks like it has
a holistic, coherent design.


196
00:09:11.385 --> 00:09:13.053 line:-1 align:center
You can also see in the tab bar


197
00:09:13,086 --> 00:09:15,756 line:-2
that Safari is mentioning
my page is Not Secure,


198
00:09:15,789 --> 00:09:18,559 line:-2
which I expect because this is
my development environment.


199
00:09:18,592 --> 00:09:21,795 line:-2
Now, we’ve also got a floating blue bar
at the top of the website


200
00:09:21,828 --> 00:09:24,965 line:-2
that would look really great
extended up into the tab bar.


201
00:09:24,998 --> 00:09:27,568 line:-2
So if I go into my source code
in the Editor over here...


202
00:09:32.506 --> 00:09:35.642 line:-2 align:center
I can override the black color
that Safari automatically discovered


203
00:09:35,676 --> 00:09:37,644 line:-1
to match this beautiful blue color.


204
00:09:39,646 --> 00:09:42,549 line:-2
I’ll add this one meta tag,
which will extend that blue color


205
00:09:42,583 --> 00:09:45,285 line:-1
up into the tab bar.


206
00:09:45,319 --> 00:09:48,322 line:-2
Then I’ll reload
and see what it looks like.


207
00:09:49.256 --> 00:09:50.924 line:-1 align:center
That looks pretty good,


208
00:09:50.958 --> 00:09:53.026 line:-1 align:center
but we’ve designed Dog Dog DC


209
00:09:53,060 --> 00:09:56,196 line:-2
to contain a gray newsletter bar
at the top that’s horizontal,


210
00:09:56.230 --> 00:09:58.498 line:-2 align:center
which actually interrupts
the flow of color a little bit


211
00:09:58.532 --> 00:09:59.867 line:-1 align:center
into the top tab bar.


212
00:09:59.900 --> 00:10:02.536 line:-1 align:center
In order to get an uninterrupted canvas,


213
00:10:02.569 --> 00:10:06.106 line:-2 align:center
let’s denote the newsletter bar
another way rather than background color.


214
00:10:13,914 --> 00:10:15,582 line:-1
Hmm.


215
00:10:15,616 --> 00:10:17,584 line:-1
I’ll keep playing around with it later.


216
00:10:17.618 --> 00:10:20.087 line:-2 align:center
For now, I’ll just remove
the newsletter bar.


217
00:10:25,559 --> 00:10:27,761 line:-1
Wow, that now looks great.


218
00:10:27.794 --> 00:10:31.632 line:-2 align:center
The color is uninterrupted
and really shines in Safari 15.


219
00:10:31.665 --> 00:10:35.068 line:-2 align:center
And of course, the same effect
works great on iPadOS too.


220
00:10:35.102 --> 00:10:36.136 line:-1 align:center
All right.


221
00:10:36,170 --> 00:10:38,338 line:-2
Now, I could sit here
and watch Maggie all day,


222
00:10:38.372 --> 00:10:41.074 line:-2 align:center
but what I really want to do
is bring her front and center


223
00:10:41.108 --> 00:10:43.710 line:-2 align:center
and dim out everything except her
and the chat area,


224
00:10:43.744 --> 00:10:46.346 line:-2 align:center
because I take
those doggo comments seriously.


225
00:10:46.380 --> 00:10:48.749 line:-2 align:center
So of course, I’m going to tap
this Theater Mode button.


226
00:10:50,551 --> 00:10:52,085 line:-1
But wait.


227
00:10:52.119 --> 00:10:55.822 line:-2 align:center
When I enter Theater Mode,
the tab bar is still colorful.


228
00:10:55.856 --> 00:10:59.293 line:-2 align:center
Theater Mode would be a little bit
better if we updated the theme color


229
00:10:59.326 --> 00:11:01.461 line:-1 align:center
when entering Theater Mode.


230
00:11:01.495 --> 00:11:05.098 line:-2 align:center
Well, we can fix that over here
in my JavaScript.


231
00:11:05,132 --> 00:11:09,102 line:-2
Earlier, Jen showed you how to use
a media query in the meta element itself


232
00:11:09.136 --> 00:11:12.339 line:-2 align:center
to automatically react to changes
in the environment, like Dark Mode.


233
00:11:12,372 --> 00:11:15,709 line:-2
However, for changes initiated
by my page itself,


234
00:11:15,742 --> 00:11:18,212 line:-2
I can do this in a more proactive way
using JavaScript


235
00:11:18,245 --> 00:11:20,647 line:-1
to simply modify the meta element itself


236
00:11:20.681 --> 00:11:23.283 line:-2 align:center
using standard JavaScript
when entering Theater Mode.


237
00:11:27.321 --> 00:11:30.791 line:-2 align:center
And, of course, I can’t forget to reset
the element when exiting Theater Mode.


238
00:11:34.194 --> 00:11:36.697 line:-1 align:center
Let’s see what it looks like now.


239
00:11:42,035 --> 00:11:44,438 line:-2
Perfect.
And there we go.


240
00:11:44,471 --> 00:11:45,806 line:-1
That looks so much better.


241
00:11:45.839 --> 00:11:47.774 line:-1 align:center
Now I can really focus on Maggie.


242
00:11:47.808 --> 00:11:49.243 line:-1 align:center
Back to you, Jen.


243
00:11:49.276 --> 00:11:50.978 line:-1 align:center
Dog Dog DC.


244
00:11:51.011 --> 00:11:54.014 line:-2 align:center
I’m gonna make sure to visit that site
once it’s online, Myles.


245
00:11:54.047 --> 00:11:55.082 line:-1 align:center
Thanks.


246
00:11:55.115 --> 00:11:58.185 line:-2 align:center
I really love how this
opens up another way


247
00:11:58.218 --> 00:11:59.753 line:-1 align:center
for web designers to impact


248
00:11:59.786 --> 00:12:02.256 line:-1 align:center
people’s visceral experience of the web.


249
00:12:02.289 --> 00:12:06.193 line:-2 align:center
Now let’s dive a bit deeper
into what’s happening on iOS.


250
00:12:06,226 --> 00:12:09,530 line:-2
You’ll notice the theme color
is used here, too, at the top,


251
00:12:09.563 --> 00:12:11.431 line:-1 align:center
wrapping around the sensor housing


252
00:12:11.465 --> 00:12:14.902 line:-2 align:center
so the web page or web app
fills the whole screen.


253
00:12:14,935 --> 00:12:18,805 line:-2
You’ll also notice that we’ve moved
the tab bar to the bottom of the screen.


254
00:12:18,839 --> 00:12:21,408 line:-2
This puts it directly
under the user’s thumb,


255
00:12:21.441 --> 00:12:23.143 line:-1 align:center
making it easier for them to reach,


256
00:12:23,177 --> 00:12:26,046 line:-2
especially if they’re using
their phone one-handed.


257
00:12:26.079 --> 00:12:28.048 line:-1 align:center
Swipe sideways on the tab bar


258
00:12:28.081 --> 00:12:30.350 line:-1 align:center
to switch between the tabs.


259
00:12:30,384 --> 00:12:33,453 line:-2
And swipe up to see
a grid of all the tabs


260
00:12:33.487 --> 00:12:36.323 line:-1 align:center
and to access Tab Groups.


261
00:12:36.356 --> 00:12:39.126 line:-1 align:center
When a user scrolls the web page,


262
00:12:39,159 --> 00:12:43,030 line:-2
the tab bar minimizes down
to just the domain name at the very bottom


263
00:12:43,063 --> 00:12:45,399 line:-1
to ensure people know where they are.


264
00:12:45.432 --> 00:12:47.801 line:-1 align:center
When they pull the page back down,


265
00:12:47,835 --> 00:12:51,038 line:-1
the expanded tab bar reappears.


266
00:12:51.071 --> 00:12:54.575 line:-2 align:center
All of this means that the websites
and web apps that you make


267
00:12:54.608 --> 00:12:57.077 line:-1 align:center
are the shining star of the show.


268
00:12:57,110 --> 00:13:00,047 line:-2
But what if you’ve built
something important


269
00:13:00,080 --> 00:13:02,850 line:-2
at the bottom of the page
and now that gets covered up


270
00:13:02.883 --> 00:13:04.418 line:-1 align:center
by the new tab bar?


271
00:13:04.451 --> 00:13:07.621 line:-2 align:center
This is where you want to use
environment variables in your CSS


272
00:13:07.654 --> 00:13:11.425 line:-2 align:center
to ensure there’s enough padding
or margin or a grid track


273
00:13:11.458 --> 00:13:13.760 line:-1 align:center
or however you write your layout code.


274
00:13:13.794 --> 00:13:16.063 line:-1 align:center
You can use an environment variable


275
00:13:16.096 --> 00:13:18.131 line:-1 align:center
to make sure any UI or content


276
00:13:18,165 --> 00:13:21,168 line:-2
that would be affected by the tab bar
scoots out of the way.


277
00:13:21,201 --> 00:13:24,671 line:-1
So what is an environment variable?


278
00:13:24,705 --> 00:13:28,475 line:-2
It’s a dynamic measurement
that’s provided by the browser.


279
00:13:28,509 --> 00:13:32,446 line:-2
You can see here,
the green is what’s called the safe area.


280
00:13:32.479 --> 00:13:34.748 line:-2 align:center
When the tab bar is expanded
at the bottom,


281
00:13:34.781 --> 00:13:36.884 line:-1 align:center
the safe area starts above it.


282
00:13:36.917 --> 00:13:38.819 line:-1 align:center
As the tab bar minimizes,


283
00:13:38.852 --> 00:13:41.488 line:-1 align:center
the dimensions of the safe area change.


284
00:13:41.522 --> 00:13:44.191 line:-1 align:center
env(safe-area-inset-bottom)


285
00:13:44.224 --> 00:13:47.060 line:-2 align:center
is a measurement
of however many pixels it is


286
00:13:47,094 --> 00:13:50,397 line:-2
from the safe area
to the bottom of the viewport.


287
00:13:50,430 --> 00:13:52,733 line:-1
It’s a lot like the var function


288
00:13:52,766 --> 00:13:54,601 line:-1
in CSS custom properties.


289
00:13:54.635 --> 00:13:57.404 line:-2 align:center
Maybe you’ve used custom properties
to turn all your colors


290
00:13:57.437 --> 00:13:59.540 line:-1 align:center
into variables, for instance.


291
00:13:59.573 --> 00:14:02.743 line:-2 align:center
Only instead of you
defining this variable,


292
00:14:02,776 --> 00:14:04,311 line:-1
the browser defines it.


293
00:14:04.344 --> 00:14:07.581 line:-2 align:center
It’s providing information
about the environment.


294
00:14:07.614 --> 00:14:09.583 line:-1 align:center
And you can use that length measurement


295
00:14:09,616 --> 00:14:12,386 line:-2
any place in your code,
including inside a calc.


296
00:14:12.419 --> 00:14:15.289 line:-1 align:center
Here, my footer is position: sticky


297
00:14:15,322 --> 00:14:17,624 line:-2
with some padding to push
my two links away


298
00:14:17.658 --> 00:14:19.359 line:-1 align:center
from the edges of the footer.


299
00:14:19,393 --> 00:14:21,028 line:-1
I defined a padding bottom


300
00:14:21.061 --> 00:14:24.531 line:-1 align:center
of 1rem + env(safe-area-inset-bottom).


301
00:14:24,565 --> 00:14:28,468 line:-1
In many contexts, that’ll be 1rem + 0.


302
00:14:28.502 --> 00:14:31.238 line:-1 align:center
On iOS, it will be 1rem plus the distance


303
00:14:31,271 --> 00:14:34,007 line:-1
that’s needed to clear the tab bar.


304
00:14:34,041 --> 00:14:37,377 line:-2
There are four environment variables
that provide a measurement


305
00:14:37.411 --> 00:14:40.547 line:-2 align:center
from the edge of the safe area
to the edge of the viewport:


306
00:14:40,581 --> 00:14:42,850 line:-1
env(safe-area-inset-top),


307
00:14:42.883 --> 00:14:45.285 line:-1 align:center
-right, -bottom, and -left.


308
00:14:45,319 --> 00:14:47,788 line:-2
These environment variables
don’t just work in Safari.


309
00:14:47,821 --> 00:14:49,590 line:-1
They’re defined in a CSS specification


310
00:14:49.623 --> 00:14:51.692 line:-2 align:center
and work across different browsers,
devices,


311
00:14:51.725 --> 00:14:53.460 line:-1 align:center
and operating systems.


312
00:14:53.493 --> 00:14:56.029 line:-1 align:center
If you want to make vertical adjustments,


313
00:14:56,063 --> 00:15:00,000 line:-2
you do need to take the action
of using an environment variable.


314
00:15:00,033 --> 00:15:03,403 line:-2
Safari won’t try to move
content around by default.


315
00:15:03,437 --> 00:15:06,106 line:-2
When an iPhone is rotated sideways,
however,


316
00:15:06.139 --> 00:15:07.641 line:-1 align:center
it works a bit differently.


317
00:15:07,674 --> 00:15:09,576 line:-1
There’s also a safe area


318
00:15:09.610 --> 00:15:11.778 line:-1 align:center
defined to avoid the sensor housing


319
00:15:11,812 --> 00:15:14,515 line:-1
and the round edges of the screen.


320
00:15:14.548 --> 00:15:18.151 line:-2 align:center
By default, Safari will
automatically move web content in


321
00:15:18.185 --> 00:15:19.887 line:-1 align:center
from the left and right edge


322
00:15:19.920 --> 00:15:22.189 line:-1 align:center
and put it into the safe area.


323
00:15:22.222 --> 00:15:24.525 line:-1 align:center
You might wonder why.


324
00:15:24.558 --> 00:15:28.262 line:-2 align:center
Well, if instead,
Safari extended every site


325
00:15:28,295 --> 00:15:30,964 line:-2
to the left and right edge,
content could be lost.


326
00:15:30,998 --> 00:15:32,866 line:-1
Here, the text is covered up.


327
00:15:32,900 --> 00:15:35,903 line:-1
And that’s--that’s bad for usability.


328
00:15:35,936 --> 00:15:38,772 line:-2
To prevent data loss,
Safari will scoot content


329
00:15:38.805 --> 00:15:40.574 line:-1 align:center
into the safe area,


330
00:15:40.607 --> 00:15:43.243 line:-2 align:center
including when a site is using
a meta viewport tag


331
00:15:43,277 --> 00:15:45,312 line:-1
with width=device-width,


332
00:15:45,345 --> 00:15:49,016 line:-2
which is the meta tag that’s commonly used
in responsive web design.


333
00:15:49,049 --> 00:15:51,685 line:-2
But of course I’d like
this design to look better.


334
00:15:51,718 --> 00:15:54,354 line:-2
I’d like for my purple header
and the photo


335
00:15:54,388 --> 00:15:56,356 line:-1
to extend to the edges of the screen.


336
00:15:56,390 --> 00:16:00,294 line:-2
I can signal to Safari that I want
the browser to extend the content


337
00:16:00,327 --> 00:16:03,497 line:-2
to the left and right edges
by changing the meta viewport tag


338
00:16:03.530 --> 00:16:06.400 line:-1 align:center
to viewport-fit=cover.


339
00:16:06.433 --> 00:16:10.070 line:-2 align:center
Now I’m responsible to make sure
that the layout works.


340
00:16:10.103 --> 00:16:11.772 line:-1 align:center
I’ll use environment variables


341
00:16:11,805 --> 00:16:14,474 line:-1
to ensure the content is fully visible.


342
00:16:14.508 --> 00:16:16.476 line:-1 align:center
I can define a left margin


343
00:16:16.510 --> 00:16:19.112 line:-1 align:center
of env(safe-area-inset-left)


344
00:16:19.146 --> 00:16:22.549 line:-2 align:center
on the header text
and on the paragraph text.


345
00:16:22,583 --> 00:16:26,386 line:-2
For more information about safe area
insets and environment variables,


346
00:16:26,420 --> 00:16:30,357 line:-2
check out the article “Designing Websites
for iPhone X” on the WebKit Blog,


347
00:16:30.390 --> 00:16:33.026 line:-1 align:center
linked in the notes for this session.


348
00:16:33,060 --> 00:16:34,228 line:-1
Let’s go out to Myles


349
00:16:34.261 --> 00:16:37.331 line:-2 align:center
and see how
environment variables work in action.


350
00:16:37,364 --> 00:16:41,034 line:-2
Now let’s see what Dog Dog DC
looks like in Safari on iPhone.


351
00:16:41,068 --> 00:16:42,736 line:-1
Over here on my iPhone,


352
00:16:42,769 --> 00:16:45,405 line:-2
we can see Maggie the same way
we were seeing her before,


353
00:16:45.439 --> 00:16:48.141 line:-1 align:center
but this time on a smaller device.


354
00:16:48,175 --> 00:16:51,278 line:-2
But wait.
It looks like there’s a problem.


355
00:16:51.311 --> 00:16:53.413 line:-1 align:center
When the user scrolls the chat area,


356
00:16:53,447 --> 00:16:56,316 line:-1
the input area overlaps the tab bar.


357
00:16:56.350 --> 00:16:59.786 line:-1 align:center
Dog Dog DC is explicitly using vh units


358
00:16:59,820 --> 00:17:01,855 line:-1
to size itself from top to bottom,


359
00:17:01,889 --> 00:17:05,158 line:-2
explicitly taking exactly
the size of the whole viewport,


360
00:17:05,192 --> 00:17:07,528 line:-1
which it’s now sharing with the tab bar.


361
00:17:07,561 --> 00:17:11,131 line:-2
As a user, I can scroll
to minimize the tab bar,


362
00:17:11.164 --> 00:17:12.666 line:-1 align:center
and that’s pretty easy.


363
00:17:12.699 --> 00:17:15.369 line:-2 align:center
But as a developer,
I want to make sure that my users


364
00:17:15.402 --> 00:17:18.672 line:-2 align:center
have the best experience possible
even when they scroll.


365
00:17:18,705 --> 00:17:21,508 line:-1
Luckily, I can use safe area insets


366
00:17:21,542 --> 00:17:24,378 line:-2
to move the input area up
by the appropriate amount.


367
00:17:24,411 --> 00:17:26,713 line:-1
All I have to do is add bottom padding


368
00:17:26.747 --> 00:17:29.249 line:-1 align:center
and set it to safe-area-inset-bottom.


369
00:17:34.855 --> 00:17:37.057 line:-1 align:center
Then I just reload my web page.


370
00:17:39.893 --> 00:17:42.963 line:-2 align:center
I actually just used one
of my favorite new features of Safari 15:


371
00:17:42,996 --> 00:17:44,865 line:-1
pull to refresh.


372
00:17:44.898 --> 00:17:45.899 line:-1 align:center
Hmm.


373
00:17:45.933 --> 00:17:47.601 line:-1 align:center
That’s pretty close to what I want,


374
00:17:47.634 --> 00:17:50.637 line:-2 align:center
but it looks like now
it’s a little too high.


375
00:17:50.671 --> 00:17:52.272 line:-1 align:center
Oh, I see the problem.


376
00:17:52.306 --> 00:17:54.107 line:-1 align:center
I’ve given the input area bottom padding


377
00:17:54.141 --> 00:17:56.043 line:-1 align:center
when it already has a bottom margin,


378
00:17:56,076 --> 00:17:58,478 line:-1
and those two things stack vertically.


379
00:17:58,512 --> 00:18:01,181 line:-2
So it looks like I should just
update the existing margin


380
00:18:01,215 --> 00:18:03,250 line:-1
to use the safe area inset instead.


381
00:18:03.283 --> 00:18:06.453 line:-2 align:center
Let’s adjust these styles again
and see what it looks like now.


382
00:18:21.535 --> 00:18:23.570 line:-1 align:center
Perfect.


383
00:18:23.604 --> 00:18:26.173 line:-2 align:center
This actually shows the power
of environment variables.


384
00:18:26.206 --> 00:18:28.675 line:-2 align:center
They can be applied
to any length in your style.


385
00:18:28,709 --> 00:18:30,711 line:-1
You can use them in borders, margin,


386
00:18:30.744 --> 00:18:33.247 line:-1 align:center
padding, line-height, anything.


387
00:18:33,280 --> 00:18:35,249 line:-1
As the tab bar is minimized and expanded,


388
00:18:35,282 --> 00:18:38,318 line:-2
the value of the environment variable
will automatically update,


389
00:18:38.352 --> 00:18:40.787 line:-2 align:center
and Safari will automatically
re-layout the page


390
00:18:40,821 --> 00:18:42,689 line:-1
with the new value when they do.


391
00:18:42,723 --> 00:18:45,092 line:-1
You can also see in Dog Dog DC


392
00:18:45.125 --> 00:18:47.561 line:-1 align:center
how the chat area is the area that resizes


393
00:18:47.594 --> 00:18:49.062 line:-1 align:center
when the tab bar is expanded.


394
00:18:49,096 --> 00:18:51,398 line:-1
Everything above it stays the same size,


395
00:18:51.431 --> 00:18:54.268 line:-2 align:center
while everything below it
hugs the tab bar.


396
00:18:54,301 --> 00:18:57,004 line:-2
This is because
we’re using Flexbox layout,


397
00:18:57,037 --> 00:19:00,374 line:-2
where this kind of behavior is very
natural and straightforward to create.


398
00:19:00,407 --> 00:19:03,210 line:-2
If you haven’t already started using
these more modern layout modes


399
00:19:03.243 --> 00:19:04.545 line:-1 align:center
like Flexbox or grid,


400
00:19:04.578 --> 00:19:07.447 line:-2 align:center
now would be a great time
to give them another look.


401
00:19:07.481 --> 00:19:08.949 line:-1 align:center
Next, let’s hear from Jen


402
00:19:08.982 --> 00:19:11.418 line:-2 align:center
about some more great features
in Safari 15.


403
00:19:11,451 --> 00:19:12,619 line:-1
Thanks, Myles.


404
00:19:12.653 --> 00:19:16.089 line:-2 align:center
Environment variables are
another powerful tool for creating layouts


405
00:19:16.123 --> 00:19:19.560 line:-2 align:center
that dynamically respond
to whichever device someone is using.


406
00:19:19,593 --> 00:19:21,662 line:-1
Let’s also see how a website looks


407
00:19:21.695 --> 00:19:24.264 line:-2 align:center
when someone saves it
as a Home screen app.


408
00:19:24.298 --> 00:19:28.168 line:-2 align:center
I can save this site
to my Home screen with a tap.


409
00:19:28,202 --> 00:19:31,471 line:-1
Now my site’s icon is on my Home screen.


410
00:19:31,505 --> 00:19:34,107 line:-1
If I tap on it, I can see the site opened


411
00:19:34,141 --> 00:19:35,742 line:-1
as a Home screen app.


412
00:19:35,776 --> 00:19:37,678 line:-1
It looks fantastic.


413
00:19:37,711 --> 00:19:41,148 line:-2
The theme color fills the top
of the screen, just like in Safari.


414
00:19:41,181 --> 00:19:44,585 line:-1
I get an app-like experience.


415
00:19:44.618 --> 00:19:47.087 line:-2 align:center
You’ll notice there’s no tab bar
at the bottom.


416
00:19:47.120 --> 00:19:49.022 line:-1 align:center
We aren’t in the Safari app.


417
00:19:49,056 --> 00:19:52,159 line:-1
We are in the Resilient web design app.


418
00:19:52.192 --> 00:19:54.061 line:-1 align:center
So that’s the new Safari


419
00:19:54,094 --> 00:19:55,896 line:-1
and how you can make sure


420
00:19:55.929 --> 00:19:58.465 line:-1 align:center
your website looks fantastic.


421
00:19:58.498 --> 00:20:01.735 line:-2 align:center
Next, let’s talk about several
of the amazing new features


422
00:20:01,768 --> 00:20:03,904 line:-1
of macOS, iOS, and iPadOS


423
00:20:03.937 --> 00:20:06.306 line:-1 align:center
and how they’ll impact the web.


424
00:20:06.340 --> 00:20:10.043 line:-2 align:center
Often, the very first experience
people will have of your website


425
00:20:10.077 --> 00:20:12.246 line:-1 align:center
is when someone else tells them about it,


426
00:20:12,279 --> 00:20:14,681 line:-1
like when one person sends a link


427
00:20:14.715 --> 00:20:16.950 line:-1 align:center
to another in Messages.


428
00:20:16,984 --> 00:20:18,285 line:-1
Anytime this happens,


429
00:20:18.318 --> 00:20:21.255 line:-1 align:center
the site appears as a simple rich link.


430
00:20:21.288 --> 00:20:24.124 line:-2 align:center
The way these rich links work
is consistent


431
00:20:24,157 --> 00:20:27,561 line:-1
across iOS, iPad OS, and macOS.


432
00:20:27,594 --> 00:20:31,665 line:-2
And this year, with Shared with You,
we’ve added many new places


433
00:20:31,698 --> 00:20:33,567 line:-1
and many new ways for people


434
00:20:33,600 --> 00:20:36,103 line:-1
to share web content with each other.


435
00:20:36.136 --> 00:20:38.005 line:-1 align:center
These are just two.


436
00:20:38.038 --> 00:20:41.208 line:-2 align:center
You’ll want to take the time
to ensure your site looks fantastic


437
00:20:41,241 --> 00:20:43,410 line:-1
when it’s presented in rich links.


438
00:20:43.443 --> 00:20:47.214 line:-2 align:center
By default, if nothing else, rich links
will pick up the web page title,


439
00:20:47,247 --> 00:20:49,650 line:-1
the site URL, and the favicon


440
00:20:49,683 --> 00:20:52,052 line:-1
and display them in a simple fashion.


441
00:20:52.085 --> 00:20:55.189 line:-2 align:center
We can improve on this
by adding to our metadata


442
00:20:55.222 --> 00:20:57.724 line:-1 align:center
in our HTML head through meta tags


443
00:20:57.758 --> 00:21:00.594 line:-2 align:center
with names defined
in the open graph protocol.


444
00:21:00.627 --> 00:21:03.830 line:-2 align:center
Let’s specify a title
that’s a bit better for this context


445
00:21:03,864 --> 00:21:05,299 line:-1
than the web page title.


446
00:21:05.332 --> 00:21:08.468 line:-1 align:center
And we’ll specify a graphic to display.


447
00:21:08.502 --> 00:21:10.904 line:-1 align:center
We want this image to be something


448
00:21:10.938 --> 00:21:12.873 line:-1 align:center
for this particular web page,


449
00:21:12.906 --> 00:21:15.876 line:-2 align:center
like the hero image
from the content of this page.


450
00:21:15,909 --> 00:21:18,478 line:-1
If we’d like, we can also provide a video.


451
00:21:18,512 --> 00:21:21,715 line:-2
The video will autoplay silently
if the user allows,


452
00:21:21,748 --> 00:21:25,419 line:-1
and they can tap on it to hear the sound.


453
00:21:25.452 --> 00:21:29.323 line:-2 align:center
You can learn more about the details
in “Ensuring beautiful rich links,”


454
00:21:29,356 --> 00:21:32,359 line:-1
a short video on developer.apple.com.


455
00:21:32,392 --> 00:21:36,230 line:-2
Customizing your rich links
is another detail that ensures people


456
00:21:36,263 --> 00:21:39,700 line:-2
have a fantastic experience
with your website or web app.


457
00:21:39,733 --> 00:21:41,568 line:-1
Next up, let’s take a look


458
00:21:41.602 --> 00:21:44.605 line:-1 align:center
at visual intelligence and the web.


459
00:21:44.638 --> 00:21:47.774 line:-2 align:center
So much text on the web
is stuck inside images.


460
00:21:47,808 --> 00:21:49,376 line:-1
Starting in Safari 15,


461
00:21:49.409 --> 00:21:52.679 line:-2 align:center
we’re using visual intelligence
to free that text.


462
00:21:52.713 --> 00:21:55.215 line:-1 align:center
Now people can interact with it directly,


463
00:21:55,249 --> 00:21:58,785 line:-2
just as they would
with any other text on a web page.


464
00:21:58.819 --> 00:22:02.356 line:-2 align:center
Here’s an image on Twitter
that’s full of text.


465
00:22:02,389 --> 00:22:03,991 line:-1
When we hover over it,


466
00:22:04.024 --> 00:22:07.060 line:-2 align:center
see the mouse pointer change
into a cursor?


467
00:22:07,094 --> 00:22:10,764 line:-2
Now we can drag over this text
and copy it,


468
00:22:10.797 --> 00:22:12.833 line:-1 align:center
just like any other text.


469
00:22:12,866 --> 00:22:16,637 line:-2
Anytime you hover over an image
on macOS Monterey


470
00:22:16,670 --> 00:22:20,040 line:-1
or touch the image on iOS or iPadOS 15,


471
00:22:20,073 --> 00:22:23,010 line:-2
visual intelligence quickly finds
and recognizes


472
00:22:23.043 --> 00:22:24.878 line:-1 align:center
all the text in that image.


473
00:22:24.912 --> 00:22:27.181 line:-1 align:center
Once visual intelligence finds text,


474
00:22:27.214 --> 00:22:29.550 line:-1 align:center
not only can you select and copy it,


475
00:22:29,583 --> 00:22:31,852 line:-1
you can look it up it, translate it,


476
00:22:31.885 --> 00:22:34.521 line:-2 align:center
search the web with that phrase,
share the text,


477
00:22:34.555 --> 00:22:37.925 line:-1 align:center
listen to it, just like any other text.


478
00:22:37,958 --> 00:22:40,060 line:-1
The text that visual intelligence finds,


479
00:22:40,093 --> 00:22:43,764 line:-1
it sort of becomes part of the web page,


480
00:22:43.797 --> 00:22:46.867 line:-2 align:center
and it sort of doesn’t become part
of the web page.


481
00:22:46.900 --> 00:22:50.671 line:-2 align:center
The text is injected into the Shadow DOM
inside the image,


482
00:22:50.704 --> 00:22:53.307 line:-2 align:center
which means it’s not affected
by JavaScript.


483
00:22:53.340 --> 00:22:55.709 line:-1 align:center
But it is affected by z-order.


484
00:22:55.742 --> 00:22:58.378 line:-2 align:center
So, if there’s something
overlaying your image,


485
00:22:58.412 --> 00:23:00.013 line:-1 align:center
like a transparent box,


486
00:23:00,047 --> 00:23:03,884 line:-2
visual intelligence won’t be able
to find any text in the image underneath.


487
00:23:03,917 --> 00:23:06,987 line:-1
The layer on top gets in the way.


488
00:23:07,020 --> 00:23:09,256 line:-1
We’ve integrated visual intelligence


489
00:23:09,289 --> 00:23:11,325 line:-1
into assistive technologies like VoiceOver


490
00:23:11.358 --> 00:23:15.295 line:-2 align:center
to make text that’s been trapped in images
available to many more people.


491
00:23:15.329 --> 00:23:17.865 line:-2 align:center
But that does not mean
that this feature changes


492
00:23:17,898 --> 00:23:20,033 line:-1
current accessibility best practices.


493
00:23:20.067 --> 00:23:23.637 line:-2 align:center
Of course, content on the web
that consists mostly of text


494
00:23:23.670 --> 00:23:25.305 line:-1 align:center
really should be put


495
00:23:25.339 --> 00:23:28.141 line:-1 align:center
on the web as text in HTML,


496
00:23:28.175 --> 00:23:30.844 line:-2 align:center
styled with a web font to give it
the look and feel if you want,


497
00:23:30.878 --> 00:23:32.980 line:-1 align:center
but as text content.


498
00:23:33,013 --> 00:23:35,682 line:-1
This is still the best practice.


499
00:23:35.716 --> 00:23:39.419 line:-2 align:center
For content that is a photo,
an illustration, or other image,


500
00:23:39,453 --> 00:23:42,523 line:-2
the best practice is still
to include alt text


501
00:23:42.556 --> 00:23:45.592 line:-1 align:center
as an attribute on the image element.


502
00:23:45.626 --> 00:23:49.196 line:-2 align:center
Great alt text provides
the kind of meaning and context


503
00:23:49.229 --> 00:23:52.132 line:-1 align:center
that only a human can explain.


504
00:23:52.165 --> 00:23:54.835 line:-2 align:center
Plus, not all browsers
have visual intelligence,


505
00:23:54,868 --> 00:23:57,337 line:-1
so continue to make sure that the images


506
00:23:57,371 --> 00:24:00,841 line:-1
on your website have useful alt text.


507
00:24:00,874 --> 00:24:04,011 line:-1
That said, it is pretty great to be able


508
00:24:04,044 --> 00:24:05,913 line:-1
to access text that, until now,


509
00:24:05,946 --> 00:24:08,949 line:-2
you had to be able to see to read
or to retype


510
00:24:08.982 --> 00:24:11.118 line:-1 align:center
in order to quote somewhere else.


511
00:24:11.151 --> 00:24:13.654 line:-1 align:center
Next, let’s take a look at the CSS


512
00:24:13.687 --> 00:24:16.423 line:-2 align:center
that’s been implemented
in WebKit over the last year.


513
00:24:16,456 --> 00:24:19,126 line:-1
First up, aspect ratio.


514
00:24:19.159 --> 00:24:21.595 line:-1 align:center
Aspect ratio is a new CSS property


515
00:24:21.628 --> 00:24:24.131 line:-2 align:center
that allows you to set
a preferred aspect ratio


516
00:24:24.164 --> 00:24:26.133 line:-1 align:center
for any element.


517
00:24:26,166 --> 00:24:27,701 line:-1
But what does that mean,


518
00:24:27.734 --> 00:24:30.070 line:-1 align:center
“set a preferred aspect ratio”?


519
00:24:30.103 --> 00:24:33.340 line:-2 align:center
Well, let’s first look at the kinds
of content on the web


520
00:24:33.373 --> 00:24:35.709 line:-1 align:center
that has a natural aspect ratio.


521
00:24:35.742 --> 00:24:37.311 line:-1 align:center
Images are a good example.


522
00:24:37.344 --> 00:24:41.248 line:-2 align:center
Let’s say we have an image of Maggie
that’s twice as wide as it is high.


523
00:24:41,281 --> 00:24:44,952 line:-1
That image has a 2:1 aspect ratio.


524
00:24:44.985 --> 00:24:47.988 line:-2 align:center
We’ll put this image on a web page
and make it flexible


525
00:24:48.021 --> 00:24:51.291 line:-1 align:center
by adding width: 100% and height: auto,


526
00:24:51,325 --> 00:24:54,261 line:-1
a classic responsive web design technique.


527
00:24:54,294 --> 00:24:57,397 line:-2
Because images have
a natural aspect ratio,


528
00:24:57.431 --> 00:24:59.399 line:-1 align:center
the height automatically changes


529
00:24:59.433 --> 00:25:02.336 line:-1 align:center
in direct relationship with the width.


530
00:25:02.369 --> 00:25:05.772 line:-2 align:center
This photo is always twice
as wide as it is tall,


531
00:25:05,806 --> 00:25:08,408 line:-1
and Maggie always looks really good.


532
00:25:08.442 --> 00:25:11.011 line:-1 align:center
This kind of behavior is so expected,


533
00:25:11,044 --> 00:25:12,980 line:-1
we almost don’t even see it anymore.


534
00:25:13,013 --> 00:25:15,449 line:-1
This is just how images work.


535
00:25:15,482 --> 00:25:18,986 line:-2
Video works the same way
when you put it in your page’s HTML


536
00:25:19.019 --> 00:25:20.888 line:-1 align:center
by using a video element.


537
00:25:20,921 --> 00:25:24,691 line:-2
Video files also have
a natural aspect ratio.


538
00:25:24,725 --> 00:25:28,395 line:-2
And the video element conveys
that aspect ratio to the browser


539
00:25:28.428 --> 00:25:30.564 line:-1 align:center
as it’s calculating the page layout.


540
00:25:30.597 --> 00:25:33.934 line:-2 align:center
But not all content has
a natural aspect ratio.


541
00:25:33.967 --> 00:25:36.570 line:-1 align:center
Here, I’ve got an article element.


542
00:25:36,603 --> 00:25:39,473 line:-2
Inside, there’s a headline
and a paragraph.


543
00:25:39.506 --> 00:25:41.642 line:-1 align:center
By default, the article element has


544
00:25:41,675 --> 00:25:43,644 line:-1
a width of auto and a height of auto.


545
00:25:43.677 --> 00:25:45.846 line:-1 align:center
In this writing mode, width of auto means


546
00:25:45,879 --> 00:25:48,715 line:-2
please stretch the article out
so it takes up 100%


547
00:25:48,749 --> 00:25:49,883 line:-1
of the space that’s available.


548
00:25:49,917 --> 00:25:52,519 line:-1
Height auto means be tall enough


549
00:25:52,553 --> 00:25:55,322 line:-2
to fit all of the content
that’s inside a view


550
00:25:55.355 --> 00:25:57.824 line:-1 align:center
and don’t be any taller.


551
00:25:57.858 --> 00:26:01.361 line:-2 align:center
We can see how when the column
of text gets narrower,


552
00:26:01.395 --> 00:26:03.597 line:-1 align:center
the text wraps more often


553
00:26:03.630 --> 00:26:06.066 line:-2 align:center
and takes up more
and more vertical space.


554
00:26:06,099 --> 00:26:09,369 line:-2
When the column gets wider,
the text reflows


555
00:26:09.403 --> 00:26:12.406 line:-1 align:center
and takes up less and less vertical space.


556
00:26:12.439 --> 00:26:15.943 line:-2 align:center
The height of my box is adjusting
to fit the text content -


557
00:26:15,976 --> 00:26:17,744 line:-1
not too short and not too tall -


558
00:26:17,778 --> 00:26:21,548 line:-2
without any regard
for any sort of aspect ratio.


559
00:26:21.582 --> 00:26:24.852 line:-2 align:center
For most of the history of the web,
this is just how layout has worked.


560
00:26:24.885 --> 00:26:27.921 line:-2 align:center
Any graphic design ideas
about using squares


561
00:26:27,955 --> 00:26:30,390 line:-1
or making boxes be a consistent shape,


562
00:26:30.424 --> 00:26:33.727 line:-2 align:center
those design ideas, well,
they were tossed into the bucket


563
00:26:33.760 --> 00:26:36.797 line:-1 align:center
of “Nope! The web doesn’t work that way!”


564
00:26:36.830 --> 00:26:38.165 line:-1 align:center
Until now.


565
00:26:38,198 --> 00:26:42,002 line:-2
Now we can write CSS
to define a preferred aspect ratio


566
00:26:42,035 --> 00:26:44,838 line:-2
on elements that otherwise
wouldn’t have one.


567
00:26:44,872 --> 00:26:48,175 line:-1
Let’s add aspect-ratio: 1 / 1 to our code,


568
00:26:48,208 --> 00:26:50,844 line:-2
which says whatever width
this ends up with,


569
00:26:50,878 --> 00:26:52,779 line:-1
think of that as one unit,


570
00:26:52.813 --> 00:26:56.016 line:-2 align:center
and then make the height
also be one unit,


571
00:26:56,049 --> 00:26:59,453 line:-2
which translates
to please make this a square.


572
00:26:59.486 --> 00:27:01.588 line:-1 align:center
The height grows bigger than it did before


573
00:27:01.622 --> 00:27:03.724 line:-1 align:center
in order to maintain that square.


574
00:27:03,757 --> 00:27:07,194 line:-2
But what happens when there’s too much
content to fit inside that square?


575
00:27:07.227 --> 00:27:08.328 line:-1 align:center
By default,


576
00:27:08,362 --> 00:27:11,698 line:-2
the box will automatically grow
to be taller.


577
00:27:11.732 --> 00:27:14.768 line:-2 align:center
With one line of code,
we can create a set of squares


578
00:27:14.801 --> 00:27:17.604 line:-2 align:center
or any shape box
with any certain aspect ratio,


579
00:27:17.638 --> 00:27:20.641 line:-2 align:center
knowing that if the content is longer
in one of the boxes,


580
00:27:20,674 --> 00:27:22,910 line:-1
that box will grow to prevent overflow.


581
00:27:22,943 --> 00:27:26,180 line:-2
If we want the aspect ratio
to always be obeyed,


582
00:27:26,213 --> 00:27:28,182 line:-1
even if that does cause overflow,


583
00:27:28.215 --> 00:27:31.685 line:-1 align:center
we can add min-height of 0 to our code.


584
00:27:31.718 --> 00:27:34.855 line:-2 align:center
Perhaps we want
to handle overflow another way,


585
00:27:34.888 --> 00:27:37.958 line:-1 align:center
like by adding overflow: scroll.


586
00:27:37.991 --> 00:27:39.826 line:-1 align:center
Now, I’ve been writing the value


587
00:27:39.860 --> 00:27:43.297 line:-1 align:center
to make this square as 1 / 1.


588
00:27:43,330 --> 00:27:46,967 line:-2
But I can instead just write this
as aspect-ratio: 1.


589
00:27:47,000 --> 00:27:50,771 line:-2
If there’s only one number, the browser
will assume that it’s “over one.”


590
00:27:50,804 --> 00:27:52,806 line:-1
In fact, there are a lot of ways


591
00:27:52.840 --> 00:27:54.875 line:-1 align:center
I can express the same aspect ratio,


592
00:27:54,908 --> 00:27:56,810 line:-1
including by using decimal numbers.


593
00:27:56,844 --> 00:27:59,713 line:-2
This gives us the freedom
to write aspect ratios


594
00:27:59.746 --> 00:28:02.516 line:-2 align:center
in ways that you might be familiar with
from other industries


595
00:28:02,549 --> 00:28:05,719 line:-2
like film and television
or art and design.


596
00:28:05,752 --> 00:28:09,289 line:-2
For the last decade,
it’s been pretty impossible


597
00:28:09,323 --> 00:28:11,091 line:-1
to use these ratios on the web,


598
00:28:11.124 --> 00:28:13.827 line:-2 align:center
even though they’ve had a deep
and meaningful place


599
00:28:13,861 --> 00:28:17,097 line:-2
throughout human culture
in architecture, painting,


600
00:28:17,130 --> 00:28:19,700 line:-1
book design, modern print design.


601
00:28:19,733 --> 00:28:22,503 line:-2
Now we can build our layouts
using these ratios.


602
00:28:22,536 --> 00:28:25,305 line:-2
Especially when you combine
aspect-ratio with CSS grid,


603
00:28:25,339 --> 00:28:27,975 line:-2
all kinds of new
design possibilities open up.


604
00:28:28,008 --> 00:28:30,110 line:-1
Speaking of film and video,


605
00:28:30.143 --> 00:28:32.880 line:-2 align:center
one very common use case
for aspect ratio


606
00:28:32,913 --> 00:28:36,183 line:-2
will be embedded video
from third-party services.


607
00:28:36.216 --> 00:28:39.119 line:-1 align:center
If you use YouTube, Vimeo, Wistia,


608
00:28:39,152 --> 00:28:41,955 line:-2
or any of the many
video hosting providers,


609
00:28:41.989 --> 00:28:44.691 line:-2 align:center
those give you an iFrame
to embed your video.


610
00:28:44,725 --> 00:28:47,661 line:-1
The iFrame element is not an element


611
00:28:47,694 --> 00:28:49,863 line:-1
that has a natural aspect ratio.


612
00:28:49.897 --> 00:28:51.732 line:-1 align:center
When responsive web design came along,


613
00:28:51,765 --> 00:28:54,334 line:-2
we wanted to make
our embedded videos flexible,


614
00:28:54.368 --> 00:28:56.036 line:-1 align:center
but we ran into trouble.


615
00:28:56,069 --> 00:28:58,071 line:-1
We’ve been stuck either using


616
00:28:58,105 --> 00:29:00,507 line:-1
a confusing padding hack in CSS


617
00:29:00.541 --> 00:29:03.610 line:-1 align:center
or using JavaScript to resize the video.


618
00:29:03.644 --> 00:29:06.380 line:-1 align:center
Now we can add one line of CSS


619
00:29:06.413 --> 00:29:09.516 line:-2 align:center
to give that iFrame
a preferred aspect ratio.


620
00:29:09.550 --> 00:29:11.518 line:-1 align:center
It’s a very elegant solution


621
00:29:11.552 --> 00:29:13.687 line:-1 align:center
to a very common problem.


622
00:29:13.720 --> 00:29:17.090 line:-2 align:center
Aspect ratio: it gives us
another powerful tool


623
00:29:17.124 --> 00:29:19.660 line:-1 align:center
to create the layout that we want.


624
00:29:19.693 --> 00:29:22.596 line:-1 align:center
Next up, flex gaps.


625
00:29:22,629 --> 00:29:25,632 line:-1
This year in Safari 14.1,


626
00:29:25,666 --> 00:29:27,701 line:-1
we shipped support for gaps


627
00:29:27.734 --> 00:29:29.670 line:-1 align:center
in Flexbox containers.


628
00:29:29,703 --> 00:29:33,507 line:-2
Flex gaps gives you a way
to define a minimum space between items


629
00:29:33.540 --> 00:29:36.043 line:-1 align:center
to make sure that there’s always a gap.


630
00:29:36.076 --> 00:29:39.313 line:-2 align:center
Here, I’ve got a navigation bar
that I’ve laid out in Flexbox.


631
00:29:39.346 --> 00:29:42.916 line:-2 align:center
I don’t want these menu bar items
to ever touch each other.


632
00:29:42,950 --> 00:29:45,285 line:-1
If I add a gap property,


633
00:29:45,319 --> 00:29:47,321 line:-1
with a 1rem value,


634
00:29:47,354 --> 00:29:49,556 line:-2
now there’s always a space
between the items.


635
00:29:49.590 --> 00:29:51.425 line:-1 align:center
No left or right margins are needed.


636
00:29:51,458 --> 00:29:55,062 line:-2
I don’t have to figure out how to remove
those margins on the outside edge.


637
00:29:55.095 --> 00:29:57.264 line:-1 align:center
This is much simpler.


638
00:29:57,297 --> 00:30:01,034 line:-2
There are many other features in CSS
that were implemented in WebKit this year,


639
00:30:01,068 --> 00:30:03,470 line:-1
including additional logical properties,


640
00:30:03,504 --> 00:30:07,207 line:-2
so important for supporting
international audiences.


641
00:30:07,241 --> 00:30:09,610 line:-1
The individual transform properties:


642
00:30:09.643 --> 00:30:12.045 line:-1 align:center
rotate, translate, and scale.


643
00:30:12,079 --> 00:30:15,916 line:-2
Updates and improvements
to scroll margin and scroll snap.


644
00:30:15.949 --> 00:30:18.118 line:-1 align:center
Support for new color spaces.


645
00:30:18,151 --> 00:30:20,454 line:-1
And the animation of pseudo elements


646
00:30:20.487 --> 00:30:22.356 line:-1 align:center
and discrete properties.


647
00:30:22.389 --> 00:30:24.791 line:-2 align:center
Many of these features
shipped this past spring


648
00:30:24.825 --> 00:30:27.394 line:-1 align:center
in Safari 14.1 on macOS


649
00:30:27,427 --> 00:30:29,096 line:-1
and Safari for iOS


650
00:30:29,129 --> 00:30:31,765 line:-1
and iPadOS 14.5.


651
00:30:31.798 --> 00:30:35.536 line:-2 align:center
And the rest will ship this fall
in Safari 15.


652
00:30:35.569 --> 00:30:38.438 line:-1 align:center
Next, let’s take a look at form controls.


653
00:30:38,472 --> 00:30:41,175 line:-1
In Safari 14.1, we shipped support


654
00:30:41,208 --> 00:30:44,378 line:-1
for the Date and Time inputs on macOS.


655
00:30:44.411 --> 00:30:46.847 line:-1 align:center
Now on Mac, users can fill out Date fields


656
00:30:46,880 --> 00:30:48,815 line:-1
by interacting with a Calendar control


657
00:30:48.849 --> 00:30:51.051 line:-1 align:center
or fill out the time with a Time control.


658
00:30:51,084 --> 00:30:54,588 line:-2
And client-side validation
is built right in.


659
00:30:54.621 --> 00:30:57.491 line:-1 align:center
For iOS and iPadOS 15,


660
00:30:57,524 --> 00:31:00,460 line:-2
we’ve completely redesigned
the form controls.


661
00:31:00,494 --> 00:31:02,696 align:start line:-2
They’ll better match
the overall experience


662
00:31:02.729 --> 00:31:05.132 line:-1 align:center
and fit in much better with UIKit.


663
00:31:05,165 --> 00:31:07,835 line:-1
And they look great in Dark Mode too.


664
00:31:07,868 --> 00:31:10,037 line:-2 align:start
These are the new defaults
for form controls.


665
00:31:10,070 --> 00:31:12,306 line:-1
If you’ve overridden any of these styles,


666
00:31:12,339 --> 00:31:15,142 align:start line:-2
then of course,
your styles will be applied.


667
00:31:15.175 --> 00:31:18.078 line:-1 align:center
We’ve also implemented a new color picker


668
00:31:18.111 --> 00:31:20.013 line:-1 align:center
for input type=“color”


669
00:31:20.047 --> 00:31:22.282 line:-1 align:center
on iOS and iPadOS


670
00:31:22,316 --> 00:31:25,452 line:-2 position:25%
with three panels
for choosing or adjusting a color,


671
00:31:25,485 --> 00:31:28,388 line:-1
plus an eyedropper.


672
00:31:28.422 --> 00:31:30.757 line:-1 align:center
That’s our tour of Safari 15


673
00:31:30.791 --> 00:31:34.361 line:-2 position:23% align:start
and some of the highlights
of what landed in WebKit this year.


674
00:31:34,394 --> 00:31:36,964 align:start line:-2
But before I go,
I want to make sure that you know


675
00:31:36,997 --> 00:31:39,266 line:-2 align:start
where to find important resources
for learning more


676
00:31:39.299 --> 00:31:40.868 line:-1 align:center
about Safari and WebKit


677
00:31:40,901 --> 00:31:44,271 line:-2 position:23%
and where you can submit feedback
on what you’d like to see next.


678
00:31:44.304 --> 00:31:47.774 line:-2 align:start position:25%
The links to all these resources
are in the notes for this session.


679
00:31:47,808 --> 00:31:51,011 line:-2 align:start
If you’re interested in learning
about new JavaScript,


680
00:31:51,044 --> 00:31:54,014 line:-1
DOM APIs, and media format support,


681
00:31:54,047 --> 00:31:56,383 line:-1
check out “Develop advanced web content”


682
00:31:56.416 --> 00:31:59.386 line:-1 align:center
here at WWDC21.


683
00:31:59.419 --> 00:32:02.422 line:-2 position:19% align:start
Definitely watch
“Discover Web inspector improvements,”


684
00:32:02,456 --> 00:32:05,459 line:-2 position:21%
and learn about the new
web developer tools coming to Safari,


685
00:32:05,492 --> 00:32:07,928 line:-1
including our own CSS Grid inspector.


686
00:32:07,961 --> 00:32:10,564 position:26% line:-2
To keep up with what’s coming
in the future,


687
00:32:10,597 --> 00:32:14,101 position:21% line:-2
download Safari Technology Preview,
the one with the purple logo.


688
00:32:14.134 --> 00:32:16.370 line:-1 align:center
It updates about every two weeks.


689
00:32:16,403 --> 00:32:18,172 line:-1
It’s an especially great way


690
00:32:18,205 --> 00:32:20,574 line:-1
to test against the latest bug fixes


691
00:32:20,607 --> 00:32:24,111 line:-2 position:18%
and to use the most recent advancements
in Web inspector.


692
00:32:24.144 --> 00:32:27.214 line:-2 position:30% align:start
Webkit.org is the place
for WebKit release notes,


693
00:32:27,247 --> 00:32:29,716 line:-1
articles detailing new web technologies,


694
00:32:29.750 --> 00:32:32.986 line:-1 align:center
and the documentation for Web inspector.


695
00:32:33.020 --> 00:32:35.722 line:-1 align:center
And we want to hear from you.


696
00:32:35,756 --> 00:32:38,759 align:start line:-2
If you have a suggestion
for the Web inspector


697
00:32:38.792 --> 00:32:40.827 line:-1 align:center
or for the interface of Safari,


698
00:32:40,861 --> 00:32:44,464 line:-2 position:26%
file feedback
in Apple’s Feedback Assistant.


699
00:32:44.498 --> 00:32:47.201 line:-1 align:center
If you come across a bug in WebKit,


700
00:32:47,234 --> 00:32:51,004 line:-2 align:start
something about HTML, CSS, JavaScript,
or DOM APIs


701
00:32:51,038 --> 00:32:52,906 line:-1
that seems broken or missing,


702
00:32:52.940 --> 00:32:56.944 line:-1 align:center
please file a ticket at bugs.webkit.org.


703
00:32:56.977 --> 00:32:58.946 line:-1 align:center
And you can find and follow us


704
00:32:58.979 --> 00:33:01.014 line:-1 align:center
on Twitter @webkit.


705
00:33:01.048 --> 00:33:03.050 line:-1 align:center
I hope you’re as excited


706
00:33:03.083 --> 00:33:05.886 line:-2 position:33% align:start
about the new design
of Safari 15 as we are,


707
00:33:05.919 --> 00:33:08.088 line:-1 align:center
the way the new tab bar gives you


708
00:33:08.121 --> 00:33:10.357 line:-1 align:center
a new dimension for your design,


709
00:33:10,390 --> 00:33:13,327 line:-2 align:start
new possibilities for layout
with aspect ratio,


710
00:33:13.360 --> 00:33:16.396 line:-1 align:center
all-new form controls on iOS and iPad OS,


711
00:33:16,430 --> 00:33:18,098 line:-1
and so much more.


712
00:33:18,131 --> 00:33:21,702 position:23% line:-2
I can’t wait to see what innovations
in web design this brings.


713
00:33:21.735 --> 00:33:25.572 line:-1 align:center
Thanks for joining me and enjoy WWDC.


714
00:33:25,606 --> 00:33:28,609 line:-1
[upbeat music]

